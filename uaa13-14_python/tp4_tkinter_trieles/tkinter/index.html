<!--
pyodide-mkdocs-theme
Copyleft GNU GPLv3 ðŸ„¯ 2024 FrÃ©dÃ©ric Zinelli

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.
If not, see <https://www.gnu.org/licenses/>.
-->


<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://0.0.0.0/uaa13-14_python/tp4_tkinter_trieles/tkinter/">
      
      
        <link rel="prev" href="../../tp4_recursivite/recursivite/">
      
      
        <link rel="next" href="../../../uaa4_python_prj/python_prj/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Tuto de Pascal Trieles "Interfaces graphiques en Python 3 avec Tkinter" - Technique de Transition Informatique</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    

<script type="importmap">{"imports": {"functools": "../../../js-libs/functools.js", "jsLogger": "../../../js-libs/jsLogger.js", "process_and_gui": "../../../js-libs/process_and_gui.js", "0-generic-python-snippets-pyodide": "../../../js-per-pages/0-generic-python-snippets-pyodide.js", "1-error_logs-pyodide": "../../../js-per-pages/1-error_logs-pyodide.js", "1-packagesInstaller-install-pyodide": "../../../js-per-pages/1-packagesInstaller-install-pyodide.js", "1-runtimeManager-runtime-pyodide": "../../../js-per-pages/1-runtimeManager-runtime-pyodide.js", "2-0-runnersManager-runners": "../../../js-per-pages/2-0-runnersManager-runners.js", "2-pyodideSectionsRunner-runner-pyodide": "../../../js-per-pages/2-pyodideSectionsRunner-runner-pyodide.js", "3-btnRunner-py_btn": "../../../js-per-pages/3-btnRunner-py_btn.js", "3-terminalRunner-term": "../../../js-per-pages/3-terminalRunner-term.js", "4-0-idesManager-ide": "../../../js-per-pages/4-0-idesManager-ide.js", "4-ideLogistic-ide": "../../../js-per-pages/4-ideLogistic-ide.js", "4-ideRunner-ide": "../../../js-per-pages/4-ideRunner-ide.js", "5-ideTester-ides_test": "../../../js-per-pages/5-ideTester-ides_test.js", "qcms-qcm": "../../../js-per-pages/qcms-qcm.js", "start-pyodide": "../../../js-per-pages/start-pyodide.js", "overlord": "../../../js-scripts/overlord.js", "subscriptions": "../../../js-scripts/subscriptions.js"}}</script>



      
    
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.20/lodash.min.js" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="text/javascript"></script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="text/javascript"></script>

<link href="https://cdn.jsdelivr.net/npm/jquery.terminal@2.43.1/css/jquery.terminal.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" rel="stylesheet"/>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" rel="stylesheet"/>

<script src="../../../js-libs/0-config.js" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="text/javascript"></script>

<script type="text/javascript">
if(!window.CONFIG) window.CONFIG={}
CONFIG.argsFigureDivId="figure1"
CONFIG.exportZipWithNames=false
CONFIG.exportZipPrefix=""
CONFIG.baseUrl="../../.."
CONFIG.buttonIconsDirectory="../../../assets\\images"
CONFIG.editorFontFamily="monospace"
CONFIG.editorFontSize=15
CONFIG.inServe=false
CONFIG.language="fr"
CONFIG.pmtUrl="https://gitlab.com/frederic-zinelli/pyodide-mkdocs-theme"
CONFIG.pythonLibs=[]
CONFIG.siteUrl="http://0.0.0.0/"
CONFIG.version="4.4.2"
CONFIG.lang={"tests": {"msg": "\n\n# Tests\n\n", "as_pattern": "#\\s*Tests"}, "comments": {"em": 17, "msg": "(D\u00e9s-)Active le code apr\u00e8s la ligne <code># Tests</code> (insensible \u00e0 la casse)<br>(<kbd>Ctrl</kbd>+<kbd>I</kbd>)", "kbd": "Ctrl+I"}, "splitScreen": {"em": 23, "msg": "Entrer ou sortir du mode \"deux colonnes\"<br>(<kbd>Alt+:</kbd> ; <kbd>Ctrl</kbd> pour inverser les colonnes)", "kbd": ""}, "splitModePlaceholder": {"msg": "\u00c9diteur dans l'autre colonne"}, "fullScreen": {"em": 10, "msg": "Entrer ou sortir du mode \"plein \u00e9cran\"<br>(<kbd>Esc</kbd>)", "kbd": "Esc"}, "feedback": {"em": 19, "msg": "Tronquer ou non le feedback dans les terminaux (sortie standard & stacktrace / relancer le code pour appliquer)", "kbd": ""}, "wrapTerm": {"em": 19, "msg": "Si activ\u00e9, le texte copi\u00e9 dans le terminal est joint sur une seule ligne avant d'\u00eatre copi\u00e9 dans le presse-papier", "kbd": ""}, "runScript": {"msg": "Script lanc\u00e9...", "format": "info"}, "installStart": {"msg": "Installation de paquets python. Ceci peut prendre un certain temps...", "format": "info"}, "installDone": {"msg": "Installations termin\u00e9es !", "format": "info"}, "refresh": {"msg": "Une version plus r\u00e9cente du code existe.\nVeuillez copier vos \u00e9ventuelles modifications puis r\u00e9initialiser l'IDE.", "format": "warning"}, "validation": {"msg": "Validation - ", "format": "info"}, "editorCode": {"msg": "\u00c9diteur", "format": "info"}, "publicTests": {"msg": "Tests publics", "format": "info"}, "secretTests": {"msg": "Tests secrets", "format": "info"}, "successMsg": {"msg": "OK", "format": "success"}, "successMsgNoTests": {"msg": "Termin\u00e9 sans erreur.", "format": "info"}, "unforgettable": {"msg": "N'oubliez pas de faire une validation !", "format": "warning"}, "successHead": {"msg": "Bravo !", "format": "success"}, "successHeadExtra": {"msg": "Vous avez r\u00e9ussi tous les tests !"}, "successTail": {"msg": "Pensez \u00e0 lire"}, "failHead": {"msg": "Dommage !", "format": "warning"}, "revealCorr": {"msg": "le corrig\u00e9"}, "revealJoin": {"msg": "et"}, "revealRem": {"msg": "les commentaires"}, "failTail": {"msg": "est maintenant disponible", "plural": "sont maintenant disponibles"}, "titleCorr": {"msg": "Solution"}, "titleRem": {"msg": "Remarques"}, "corr": {"msg": "\ud83d\udc0d Proposition de correction"}, "rem": {"msg": "Remarques"}, "pyBtn": {"em": 9, "msg": "Ex\u00e9cuter le code", "kbd": ""}, "play": {"em": 9, "msg": "Ex\u00e9cuter le code<br>(<kbd>Ctrl</kbd>+<kbd>S</kbd>)", "kbd": "Ctrl+S"}, "check": {"em": 9, "msg": "Valider<br><kbd>Ctrl</kbd>+<kbd>Enter</kbd><br>(Clic droit pour l'historique)", "kbd": ""}, "download": {"em": 0, "msg": "T\u00e9l\u00e9charger", "kbd": ""}, "upload": {"em": 0, "msg": "T\u00e9l\u00e9verser", "kbd": ""}, "restart": {"em": 0, "msg": "R\u00e9initialiser l'\u00e9diteur", "kbd": ""}, "save": {"em": 0, "msg": "Sauvegarder dans le navigateur", "kbd": ""}, "zip": {"em": 14, "msg": "Archiver les codes des IDEs exportables de la page", "kbd": ""}, "corrBtn": {"em": 0, "msg": "Tester la correction (serve)", "kbd": ""}, "show": {"em": 0, "msg": "Afficher corr & REMs", "kbd": ""}, "attemptsLeft": {"msg": "\u00c9valuations restantes"}, "testsDone": {"msg": "Tests termin\u00e9s", "format": "info"}, "testIdes": {"em": 7, "msg": "Lance tous les tests...", "kbd": ""}, "testStop": {"em": 6, "msg": "Arr\u00eate les tests", "kbd": ""}, "test1Ide": {"em": 7, "msg": "Lance ce test", "kbd": ""}, "loadIde": {"em": 10, "msg": "Configure l'IDE avec ces donn\u00e9es", "kbd": ""}, "qcmTitle": {"msg": "Question", "plural": "Questions"}, "qcmMaskTip": {"em": 11, "msg": "Les r\u00e9ponses resteront cach\u00e9es...", "kbd": ""}, "qcmCheckTip": {"em": 11, "msg": "V\u00e9rifier les r\u00e9ponses", "kbd": ""}, "qcmRedoTip": {"em": 9, "msg": "Recommencer", "kbd": ""}, "tipTrash": {"em": 15, "msg": "Supprimer du navigateur les codes enregistr\u00e9s pour Technique de Transition Informatique", "kbd": ""}, "figureAdmoTitle": {"msg": "Votre figure"}, "figureText": {"msg": "Votre trac\u00e9 sera ici"}, "p5Start": {"em": 0, "msg": "D\u00e9marre l'animation", "kbd": ""}, "p5Stop": {"em": 0, "msg": "Arr\u00eate l'animation", "kbd": ""}, "p5Step": {"em": 0, "msg": "Avance d'une image", "kbd": ""}, "pickerFailure": {"msg": "Veuillez cliquer sur la page entre deux utilisations des raccourcis clavier ou utiliser un bouton, afin de pouvoir t\u00e9l\u00e9verser un fichier."}, "zipAskForNames": {"msg": "Veuillez pr\u00e9ciser votre/vos noms (cha\u00eene vide interdite) :"}}
</script>
<script src="../../../js-libs/0-legacy-subscriber.js" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="text/javascript"></script>

<script src="../../../js-libs/functools.js" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="module"></script>

<script src="../../../js-libs/jsLogger.js" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="module"></script>

<script src="../../../js-libs/mathjax-libs.js" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="text/javascript"></script>

<script src="../../../js-libs/process_and_gui.js" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="module"></script>

<link href="../../../pyodide-css/0-generic.css" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" rel="stylesheet"/>

<link href="../../../pyodide-css/btns-header.css" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" rel="stylesheet"/>

<link href="../../../pyodide-css/history.css" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" rel="stylesheet"/>

<link href="../../../pyodide-css/hourglass.css" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" rel="stylesheet"/>

<link href="../../../pyodide-css/ide.css" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" rel="stylesheet"/>

<link href="../../../pyodide-css/qcm.css" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" rel="stylesheet"/>

<link href="../../../pyodide-css/terminal.css" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" rel="stylesheet"/>

<link href="../../../pyodide-css/testing.css" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" rel="stylesheet"/>

<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="text/javascript"></script>

<input type="checkbox" id="ace_palette" autocomplete="off" class="md-toggle" data-ace-dark-mode="tomorrow_night_bright" data-ace-light-mode="crimson_editor">


    
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="dark-blue" data-md-color-accent="dark-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tuto-de-pascal-trieles-interfaces-graphiques-en-python-3-avec-tkinter" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tÃªte">
    <a href="../../.." title="Technique de Transition Informatique" class="md-header__button md-logo" aria-label="Technique de Transition Informatique" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Technique de Transition Informatique
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tuto de Pascal Trieles "Interfaces graphiques en Python 3 avec Tkinter"
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="dark-blue" data-md-color-accent="dark-blue"  aria-label="Passer au mode nuit"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Passer au mode nuit" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="dark-blue" data-md-color-accent="dark-blue"  aria-label="Passer au mode jour"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Passer au mode jour" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Technique de Transition Informatique" class="md-nav__button md-logo" aria-label="Technique de Transition Informatique" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Technique de Transition Informatique
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil en 5TT
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa4_python_prj/python_prj/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UAA4 Projets Python
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa5_python/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UAA5 Python
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa7_sql/bd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UAA7 SQL
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa8_secu_linux5TT/linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UAA8 Linux
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UAA11 Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            UAA11 Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/intro/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp1_var/tp1_var/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TP1 Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp2_fonctions/tp2_fonc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TP2 Fonctions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp3_tests/tp3_tests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TP3 Tests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    TP4 Boucles
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            TP4 Boucles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp4_boucles/tp4_boucles_cond/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Boucles conditionnelles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp4_boucles/tp4_boucles_iter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Boucles itÃ©ratives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp4_boucles/tp4_boucles_mini_prj/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Boucles et mini projets
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    TP5 Listes et ChaÃ®nes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            TP5 Listes et ChaÃ®nes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp5_listes_string/tp5_string/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. ChaÃ®nes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp5_listes_string/tp5_listes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Listes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp5_listes_string/tp5_listes_string_mini_prj/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Mini projets
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp6_struct_complexes/tp6_struct_complexes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TP6 Structures complexes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8" >
        
          
          <label class="md-nav__link" for="__nav_6_8" id="__nav_6_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    TP7 Listes imbriquÃ©es
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8">
            <span class="md-nav__icon md-icon"></span>
            TP7 Listes imbriquÃ©es
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp7_listes_imbriquees/tp1_algo_boucles_imbriquees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Algorea - Boucles imbriquÃ©es
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp7_listes_imbriquees/tp2-3_fc_listes_imbriquees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2&3. Future coder - Listes imbriquÃ©es
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp7_listes_imbriquees/tp4_exo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Exercices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa11_python/tp7_listes_imbriquees/tp5_jeu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Jeu de plateau
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UAA13-14 Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            UAA13-14 Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tp1_jeu/jeu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TP1 Jeu de plateau
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tp2_socket/socket/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TP2 Socket
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    TP3 Tkinter
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            TP3 Tkinter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tp3_tkinter/tkinter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Prise en main de Tkinter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tp3_tkinter/tkinter_trieles/tkinter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Tuto Tkinter de P. Trieles
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tp4_recursivite/recursivite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TP4 RÃ©cursivitÃ©
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../uaa12_web/web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    U12 Web
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matiÃ¨res">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matiÃ¨res
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#premiers-pas" class="md-nav__link">
    <span class="md-ellipsis">
      Premiers pas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#un-premier-widget" class="md-nav__link">
    <span class="md-ellipsis">
      Un premier widget
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detruire-ou-oublier-un-widget" class="md-nav__link">
    <span class="md-ellipsis">
      DÃ©truire ou Â« oublier Â» un widget
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dessiner" class="md-nav__link">
    <span class="md-ellipsis">
      Dessiner !
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dessiner !">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#le-widget-canevas" class="md-nav__link">
    <span class="md-ellipsis">
      Le widget canevas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#les-formes-de-base" class="md-nav__link">
    <span class="md-ellipsis">
      Les formes de base
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gerer-la-superposition-delements-graphiques" class="md-nav__link">
    <span class="md-ellipsis">
      GÃ©rer la superposition d'Ã©lÃ©ments graphiques
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deplacements-trouver-et-alterer-les-coordonnees-dun-objet-du-canevas" class="md-nav__link">
    <span class="md-ellipsis">
      DÃ©placements : trouver et altÃ©rer les coordonnÃ©es d'un objet du canevas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DÃ©placements : trouver et altÃ©rer les coordonnÃ©es d&#39;un objet du canevas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obtenir-les-coordonnees-dun-element-graphique-du-canvas" class="md-nav__link">
    <span class="md-ellipsis">
      Obtenir les coordonnÃ©es d'un Ã©lÃ©ment graphique du Canvas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deplacer-un-element-graphique-sur-un-canvas" class="md-nav__link">
    <span class="md-ellipsis">
      DÃ©placer un Ã©lÃ©ment graphique sur un Canvas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detecter-des-chevauchements" class="md-nav__link">
    <span class="md-ellipsis">
      DÃ©tecter des chevauchements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pour-aller-plus-loin-les-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Pour aller plus loin : les tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#divers" class="md-nav__link">
    <span class="md-ellipsis">
      Divers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#des-exemples-concrets" class="md-nav__link">
    <span class="md-ellipsis">
      Des exemples concrets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Des exemples concrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#realiser-une-animation-avec-la-methode-after" class="md-nav__link">
    <span class="md-ellipsis">
      RÃ©aliser une animation avec la mÃ©thode after
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RÃ©aliser une animation avec la mÃ©thode after">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#premiere-approche-non-optimale" class="md-nav__link">
    <span class="md-ellipsis">
      PremiÃ¨re approche non-optimale
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#animer-mieux-avec-la-methode-after" class="md-nav__link">
    <span class="md-ellipsis">
      Animer mieux avec la mÃ©thode after()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#un-exemple-dans-les-regles-de-lart" class="md-nav__link">
    <span class="md-ellipsis">
      Un exemple Â« dans les rÃ¨gles de l'art Â»
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#un-point-important-a-propos-de-after" class="md-nav__link">
    <span class="md-ellipsis">
      Un point important Ã  propos de after()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attacher-un-evenement-a-un-widget-pour-lancer-lanimation" class="md-nav__link">
    <span class="md-ellipsis">
      Attacher un Ã©vÃ¨nement Ã  un widget pour lancer l'animation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dessiner-a-la-souris" class="md-nav__link">
    <span class="md-ellipsis">
      Dessiner Ã  la souris
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#une-calculatrice-simplette" class="md-nav__link">
    <span class="md-ellipsis">
      Une calculatrice simple(tte)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#les-variables-tkinter" class="md-nav__link">
    <span class="md-ellipsis">
      Les variables Tkinter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#une-application-presque-complete-la-todo-list" class="md-nav__link">
    <span class="md-ellipsis">
      Une application (presque) complÃ¨te : la Â« todo list Â»
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ressources-complementaires" class="md-nav__link">
    <span class="md-ellipsis">
      Ressources complÃ©mentaires
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                


                  


<h1 id="tuto-de-pascal-trieles-interfaces-graphiques-en-python-3-avec-tkinter">Tuto de Pascal Trieles "Interfaces graphiques en Python 3 avec Tkinter"</h1>
<h2 id="introduction">Introduction</h2>
<p>Cette pages est une copie du <a href="https://trieles.gitlab.io/nsi/20-tkinter/"><strong>site de Pascal Trieles</strong></a> </p>
<p>Tkinter est la blibliothÃ¨que de composants graphiques disponible par dÃ©faut avec
Python 3. Vous pourrez trouver une traduction en franÃ§ais de sa documentation
Ã  l'adresse <a href="http://tkinter.fdex.eu/" rel="noopener" target="__blank" title="Documentation de Tkinter traduite en franÃ§ais">http://tkinter.fdex.eu/</a>.</p>
<p><img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> <strong>Recommandations importantes</strong> <img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /></p>
<ul>
<li>
<p><strong>Tout ce qui est dÃ©crit ici est hors-programme de NSIÂ !</strong> En
poursuivant la lecture, vous comprenez que le temps que vous y consacrerez
sera perdu, au sens oÃ¹ il ne vous aidera pas Ã  avoir de meilleurs rÃ©sultats
en NSI. Par contre, cela pourra vous <em>intÃ©resser</em> voire vous <em>distraire</em>Â :
ainsi, il convient que vous preniez sur votre temps libre pour rÃ©aliser
ces activitÃ©s. <strong><em>En aucun cas</em> vous ne devriez consommer du temps normalement
consacrÃ© Ã  vos Ã©tudes !</strong></p>
</li>
<li>
<p>Au dÃ©but de ce document, qui vise Ã  vous faire dÃ©couvrir les notions et
composants de base de Tkinter, il vous sera demandÃ© de travailler dans une
<strong>console interactive</strong> (Idle ou iPython). Par la suite, vous crÃ©erez des
scripts.</p>
</li>
<li>
<p>Je vous demande de faire en sorte que votre console interactive occupe une
moitiÃ© de votre Ã©cran, et de veiller Ã  ce que les Â«Â fenÃªtres TkinterÂ Â» que vous
fabriquerez soient toujours visibles sur l'autre partie de l'Ã©cran (vous devrez
probablement les dÃ©placer, <em>Ã  chaque fois</em>).</p>
</li>
</ul>
<p>En mode interactif, la construction de l'interface graphique (souvent abrÃ©gÃ©e
en GUI (pour <em><b>G</b>raphical <b>U</b>ser <b>I</b>nterface</em> en anglais) est dynamique
et progressive, l'observer Ã©tape aprÃ¨s Ã©tape est instructif.</p>
<h2 id="premiers-pas">Premiers pas</h2>
<p>Chaque fois que l'on voudra exploiter la bibliothÃ¨que Tkinter, il faudra commencer
par l'importer (on va faire ici un import global, bien que cela ne soit pas optimal).</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>               <span class="c1"># Import indispensable (mais excessif).</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">=</span><span class="n">Tk</span><span class="p">()</span>                              <span class="c1"># CrÃ©ation de la fenÃªtre de base de l&#39;application.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;DÃ©couverte de Tkinter&quot;</span><span class="p">)</span>    <span class="c1"># On lui donne un nom...</span>
</code></pre></div>
<p>Normalement, une fenÃªtre (trÃ¨s trÃ¨s vide) a dÃ» apparaÃ®tre (si vous ne la
repÃ©rez pas au premier coup d'Å“il, cherchez-lÃ  dans la Â« barre des tÃ¢ches Â»
ou le <em>dock</em>).</p>
<p><strong><img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> NE LA FERMEZ SURTOUT PAS ! <img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /></strong></p>
<p>Si par malheur vous avez dÃ©jÃ  cliquÃ© sur la croix qui, traditionnellement, ferme
les fenÃªtres, vous n'avez plus qu'Ã  saisir Ã  nouveau les lignes 1 et 2 prÃ©cÃ©dentes...</p>
<p><strong>Remarques</strong></p>
<ul>
<li>
<p>Les commentaires dans le code sont Ã  lire avec attention ! Il est en revanche
inutile de les taper <img alt="ðŸ˜‰" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f609.svg" title=":wink:" />...</p>
</li>
<li>
<p>La <b>P</b>rogrammation <b>O</b>rientÃ©e <b>O</b>bjet (POO) est le style de programmation
de prÃ©dilection pour les interfaces graphiques (au moins en Python). Cela permet
notamment d'Ã©viter de s'encombrer (voire s'Ã©garer <img alt="ðŸ‘¼" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f47c.svg" title=":angel:" /> !) avec des variables
globales, mÃªme si Tkinter offre â€” dans les cas simples â€” des moyens de contourner
cette difficultÃ©). Vous aurez donc trÃ¨s souvent Ã  faire appel aux notations usuelles
en POO : <code>objet.methode(...)</code>.</p>
</li>
</ul>
<details class="info">
<summary>Pour parler (un rien) de Programmation OrientÃ©e Objet</summary>
<p>Pour faire simple, un <strong>objet</strong> est une portion de code <em>autonome</em>. Il est dÃ©fini
Ã  partir d'une <strong>classe</strong>, qui, chaque fois qu'elle est <strong>instanciÃ©e</strong> (exÃ©cutÃ©e),
crÃ©e un nouvel objet.</p>
<p>Pour tenter une analogieÂ : une classe est un moule Ã  gÃ¢teau, un objet est un
gÃ¢teau, et on peut crÃ©er plusieurs gÃ¢teaux (qui peuvent Ãªtre un peu diffÃ©rents)
Ã  partir du mÃªme moule.</p>
<p>Un <strong>attribut</strong> est une caractÃ©ristique de l'objet. C'est une variable qui n'existe
que lorsque un objet est instanciÃ©, Ã  laquelle on ne peut accÃ©der qu'Ã  travers
l'objet, et qui est liÃ©e Ã  cet objet en particulier (deux objets instanciÃ©s Ã 
partir de la mÃªme classe auront chacun un mÃªme attribut, qui portera le mÃªme
nom, mais dÃ©signera des valeurs diffÃ©rentes.</p>
<p>Une <strong>mÃ©thode</strong> est une fonction Â«Â embarquÃ©eÂ Â» dans l'objet, qui peut agir
sur lui Â«Â de l'intÃ©rieurÂ Â». Elle peut par exemple modifier les valeurs des
attributs. On peut appeler une mÃ©thode Ã  partir d'un objet avec la syntaxe
<code>objet.methode()</code></p>
</details>
<details class="warning">
<summary>SpÃ©cificitÃ© d'un programme Â«Â graphiqueÂ Â»</summary>
<p>Dans un script, il faudra systÃ©matiquement dÃ©marrer la Â«Â boucle principaleÂ Â» Ã 
l'aide d'une instruction du type <code>f.mainloop()</code> (oÃ¹ <code>f</code> dÃ©signe la <strong>fenÃªtre
principale</strong> du programme).</p>
<p>La mÃ©thode <code>mainloop</code> provoque le dÃ©marrage du <strong>gestionnaire d'Ã©vÃ©nements</strong>
associÃ© Ã  la fenÃªtre : il est indispensable au bon fonctionnement de votre
application graphique. ConcrÃ¨tement, une <strong>boucle infinie</strong> est dÃ©marrÃ©e, elle
ne sert qu'Ã  Â«Â consommerÂ Â» une quantiÃ© minimale des ressources de la machine,
juste ce qu'il faut pour surveiller trÃ¨s rÃ©guliÃ¨rement (et trÃ¨s trÃ¨s trÃ¨s
souvent :wink! !) les clics de souris, les pressions sur les touches du
clavier, etc.</p>
<p>C'est un peu cette instruction qui Â«Â met en marcheÂ Â» votre application graphique,
en lui permettant d'interagir avec l'utilisateur.</p>
<p><strong>On parle dans cette situation de Â«Â programmation Ã©vÃ©nementielleÂ Â»</strong>, dans
laquelle une boucle infinie attend sans arrÃªt qu'on la sollicite pour rÃ©agir,
par opposition Ã  la <strong>Â«Â programmation sÃ©quentielleÂ Â»</strong> dans laquelle un programme
a vocation Ã  se terminer Ã  un moment (qui, si l'on s'en donnait la peine, pourrait
Ãªtre) connu d'avance.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Programme sÃ©quentiel</th>
<th style="text-align: center;">Programme Ã©vÃ©nementiel</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><img alt="Programme sÃ©quentiel" src="../images/deroulement-programme-sequentiel.png" width="116" /></td>
<td style="text-align: center;"><img alt="Programme Ã©vÃ©nementiel" src="../images/deroulement-programme-evenementiel.png" width="500" /></td>
</tr>
</tbody>
</table>
<p>Les images proviennent de l'excellent livre libre Â«Â <a href="http://inforef.be/swi/python.htm" rel="noopener" target="__blank">Apprendre Ã  programmer avec Python 3</a>Â Â».
Bien qu'un peu ancien, dÃ©sormais, il constitue nÃ©anmoins une ressource
de premiÃ¨re importance !</p>
</details>
<h2 id="un-premier-widget">Un premier <em>widget</em></h2>
<p>Un <em>widget</em> est un <em><b>WI</b>ndow ga<b>DGET</b></em>. Une interface graphique est
composÃ©e de divers <em>widgets</em>. Nous en verrons quelques uns (et vous en dÃ©couvrirez
d'autres par vous-mÃªmes, notamment en explorant la <a href="http://tkinter.fdex.eu/" title="Documentation de Tkinter traduite en franÃ§ais">documentation de Tkinter</a>).</p>
<p>En supposant que vous avez saisi, dans votre console Python, les instructions
prÃ©cÃ©dentes et que vous n'avez pas fermÃ© la fenÃªtre qui a dÃ» apparaÃ®tre, saisissez
maintenant le code suivant :</p>
<div class="highlight"><pre><span></span><code><span class="c1"># CrÃ©ation d&#39;un label (une zone d&#39;affichage), dÃ©pendant de la fenÃªtre f</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">l</span><span class="o">=</span><span class="n">Label</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Mon premier widget&quot;</span><span class="p">)</span>
<span class="c1"># Mais pourquoi donc rien ne s&#39;affiche ?</span>
</code></pre></div>
<p>Rien ne s'affiche parce que le <em>widget</em> n'est pas encore <em>positionnÃ©</em> dans
la fenÃªtre. Il y a en effet plusieurs faÃ§ons de placer les Ã©lÃ©ments constitutifs
de l'interface graphique au sein de la fenÃªtre principale (qui ici est dÃ©signÃ©e
par la variable <code>f</code>).</p>
<p><strong>Tkinter dispose de 3 gestionnaires de positionnement :</strong> <code>pack</code>, <code>grid</code>
et <code>place</code>. On utilisera surtout <code>pack</code> dans les cas simples : c'est le
plus basique et le plus facile Ã  utiliser (il Â«Â empileÂ Â»  les <em>widgets</em>
l'un sous l'autre en colonne, ou l'un Ã  cÃ´tÃ© de l'autre en ligne). Pour
des interfaces graphiques plus complexes, on utilisera surtout <code>grid</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Insertion pour affichage du label dans la fenÃªtre f</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="c1"># Note : la gÃ©omÃ©trie de la fenÃªtre s&#39;en trouve affectÃ©e !</span>
</code></pre></div>
<p>On peut Ã©videmment contrÃ´ler le Â«Â format Â Â»  de la fenÃªtre : dÃ©finir sa
taille, dÃ©cider si l'utilisateur est autorisÃ© Ã  la redimensionner (et si
oui, dans quelle direction).</p>
<div class="highlight"><pre><span></span><code><span class="c1"># AltÃ©rer la gÃ©omÃ©trie d&#39;une fenÃªtre</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s1">&#39;200x30&#39;</span><span class="p">)</span>
<span class="c1"># L&#39;approche suivante est meilleure</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">x</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
<span class="c1"># Interdire le redimensionnement d&#39;une fenÃªtre</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># Autoriser le redimensionnement d&#39;une fenÃªtre en largeur</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># Autoriser le redimensionnement d&#39;une fenÃªtre en hauteur</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Autoriser le redimensionnement d&#39;une fenÃªtre dans les 2 directions</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Vous remarquerez que le label reste Â«Â statiqueÂ Â»  : il ne change pas de
taille lorsque la fenÃªtre est redimensionnÃ©e. On peut lÃ  encore contrÃ´ler
comment le <em>widget</em> se comporte en fonction des modifications subies par
la fenÃªtre. Mais on va d'abord modifier sa couleur de fond afin de rendre
ces changements plus visibles.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Configuration a posteriori du label : dÃ©finition d&#39;un couleur de fond</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">background</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">)</span>
<span class="c1"># On veut que l&#39;espace vide autour du widget soit Ã©quitablement rÃ©parti</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># On veut que notre label occupe l&#39;espace jusqu&#39;aux bords de la fenÃªtre</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="c1"># Essayer de redimensionner la fenÃªtre horizontalement, puis verticalement</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="c1"># RÃ©essayer de redimensionner la fenÃªtre</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">)</span>
<span class="c1"># Et maintenant ?</span>
</code></pre></div>
<h2 id="detruire-ou-oublier-un-widget">DÃ©truire ou Â«Â oublierÂ Â» un <em>widget</em></h2>
<p><strong><img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> Oublier un widget est diffÃ©rent de le dÃ©truire <img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /></strong></p>
<p>Lorsqu'on demande Ã  Tkinter d'oublier un <em>widget</em>, il cesse d'Ãªtre affichÃ©,
<em>mais on peut le rÃ©-afficher lorsqu'on le souhaite</em>. On pourrait par exemple
oublier le label <code>l</code> avec l'instruction <code>l.forget()</code>.</p>
<details class="info">
<summary>Remarque</summary>
<p>Attention : ici, la mÃ©thode <code>forget()</code> est un raccourci pour <code>.pack_forget()</code>.
Il faut utiliser la mÃ©thode <code>grid_forget()</code> lorsqu'on a recours au
gestionnaire de placement <code>grid</code>. Une possibilitÃ© intÃ©ressante de ce
dernier gestionnaire est l'oubli temporaire : avec la mÃ©thode <code>grid_remove()</code>,
le <em>widget</em> est retirÃ© de l'affichage mais toutes ses options sont mÃ©morisÃ©es
(y compris sa position dans la grille). Il suffit d'un nouvel appel
Ã  sa mÃ©thode <code>grid()</code> et il sera rÃ©affichÃ© <em>exactement</em> de la mÃªme maniÃ¨re
qu'avant son oubli (<code>pack</code> ne possÃ¨de pas d'Ã©quivalent).</p>
</details>
<p>Au contraire, <strong>dÃ©truire un <em>widget</em> est dÃ©finitif</strong> (il faut le recrÃ©er
*intÃ©gralement si l'on veut le Â« ressusciterÂ Â»). On utilise pour cela la
mÃ©thode <code>destroy()</code>, par exemple <code>l.destroy()</code>.</p>
<details class="info">
<summary>Remarque</summary>
<p>Les mÃ©thodes <code>pack_slaves()</code> et <code>grid_slaves()</code> renvoient la liste des
<em>widget</em> Â«Â enfantsÂ Â»  d'un <em>widget</em> donnÃ©. C'est utile pour les supprimer
ou les oublier...</p>
</details>
<details class="faq">
<summary>Ressources complÃ©mentaires</summary>
<ul>
<li>Concernant <a href="http://tkinter.fdex.eu/doc/gp.html#w.grid_forget" rel="noopener" target="__blank"><code>grid_forget()</code></a>.</li>
<li>Concernant <a href="https://waytolearnx.com/2020/07/comment-afficher-ou-masquer-un-widget-tkinter-python.html" rel="noopener" target="__blank"><code>pack_forget()</code></a>.</li>
<li>Discussion sur <em>stackoverflow</em> : Â«Â <img alt="ðŸ‡¬ðŸ‡§" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f1ec-1f1e7.svg" title=":gb:" /> <a href="http://stackoverflow.com/questions/3819354/in-tkinter-is-there-any-way-to-make-a-widget-not-visible" rel="noopener" target="__blank">In Tkinter is there any way to make a widget not visible</a>Â Â».</li>
</ul>
</details>
<h2 id="dessiner">Dessiner !</h2>
<h3 id="le-widget-canevas">Le <em>widget</em> canevas</h3>
<p>Le <em>widget</em> <code>Canvas</code> permet de dessiner : on peut notamment y placer des
lignes, des polygones, des images, etc. Pour crÃ©er et afficher un canevas,
dont le contenu par dÃ©faut est Ã©videmment vide, saisir :</p>
<p><center><strong><img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> ATTENTION : dans un canevas, l'axe des ordonnÃ©es est dirigÃ© <em>VERS LE BAS</em> ! <img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /></strong></center></p>
<details class="info">
<summary>Note historique</summary>
<p>Cette situation n'est pas propre Ã  Python / Tkinter. En fait, dans la
plupart des langages de programmation :</p>
<ul>
<li>
<p>l'origine <span class="arithmatex">\(O(0\,;0)\)</span> du repÃ¨re est le coin supÃ©rieur gauche de l'Ã©cran
(plus exactement : de la fenÃªtre ou du canevas) ;</p>
</li>
<li>
<p>l'axe des abscisses <span class="arithmatex">\((Ox)\)</span> est dirigÃ© comme on en a l'habitude (de
la gauche vers la droite, en suivant le bord supÃ©rieur de la fenÃªtre
ou du canevas, comme en mathÃ©matiques) ;</p>
</li>
<li>
<p><strong>mais l'axe des ordonnÃ©es <span class="arithmatex">\((Oy)\)</span> est dirigÃ© vers le bas</strong>, en sens <em>contraire</em>
du sens habituel (en suivant le bord gauche de la fenÃªtre ou du canevas).</p>
</li>
</ul>
<p>Les raisons Ã  cette situation qui pourrait vous surprendre sont purement
historiques : sur les premiers afficheurs (des moniteurs analogiques,
ressemblant aux anciennes tÃ©lÃ©visions Ã  tube cathodique), le faisceau
d'Ã©lectrons partait du coin supÃ©rieur gauche, se dÃ©plaÃ§ait vers la droite,
puis descendait lÃ©gÃ¨rement en revenant Ã  gauche. La vitesse Ã  laquelle
les premiers Ã©crans pouvaient dessiner les caractÃ¨res Ã©tait assez lente,
il Ã©tait donc prÃ©fÃ©rable de suivre le sens de lecture... <em>occidental</em>
(n'oublions pas que l'<a href="https://fr.wikipedia.org/wiki/Ordinateur" rel="noopener" target="__blank">ordinateur est, pour l'essentiel, une invention
anglo-saxonne</a>, mÃªme si
l'histoire de <a href="https://fr.wikipedia.org/wiki/Ordinateur#Ann%C3%A9es_1930" rel="noopener" target="__blank">Konrad ZUSE</a>
mÃ©rite d'Ãªtre connue).</p>
<p>Cf. <a href="https://gamedev.stackexchange.com/questions/83570/why-is-the-origin-in-computer-graphics-coordinates-at-the-top-left" rel="noopener" target="__blank"><img alt="ðŸ‡¬ðŸ‡§" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f1ec-1f1e7.svg" title=":gb:" /> cette question sur StackOverflow</a>
ainsi que <a href="https://en.wikipedia.org/wiki/Analog_television#Displaying_an_image" rel="noopener" target="__blank"><img alt="ðŸ‡¬ðŸ‡§" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f1ec-1f1e7.svg" title=":gb:" /> cet article de Wikipedia qui traite de l'histoire de la tÃ©lÃ©vision
analogique</a>.</p>
<p>Voici une animation (issue de Wikipedia) montrant comment une <a href="https://fr.wikipedia.org/wiki/Entrelacement_(vid%C3%A9o)" rel="noopener" target="__blank">image
<em>entrelacÃ©e</em></a> Ã©tait
affichÃ©e sur un moniteur analogique.</p>
<p><img alt="Comment une image est affichÃ©e sur une tÃ©lÃ©vision analogique" src="../images/CRT_image_creation_animation.gif" width="200" /></p>
</details>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="c1"># RÃ©glages a posteriori (on peut aussi dÃ©cider de faire ces rÃ©glages lors de</span>
<span class="c1"># la crÃ©ation du Canvas, c&#39;est une question de point de vue et de lisibilitÃ©).</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">background</span><span class="o">=</span><span class="s2">&quot;light green&quot;</span><span class="p">)</span>
<span class="c1"># Il y a une autre faÃ§on de faire (Ã  vous de choisir) :</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="p">[</span><span class="s1">&#39;background&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;light yellow&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="s2">&quot;800&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">800</span>
<span class="c1"># On peut aussi rÃ©gler plusieurs paramÃ¨tres en une seule instruction :</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
</code></pre></div>
<h3 id="les-formes-de-base">Les formes de base</h3>
<p>Le <code>Canvas</code> de Tkinter connaÃ®t les Â«Â <a href="http://tkinter.fdex.eu/doc/caw.html#identification-des-items-graphiques" rel="noopener" target="__blank" title="Les Ã©lements graphiques du Canvas de Tkinter">objets graphiques</a>Â Â»
suivants : lignes, rectangles, polygones, ovales, arcs (de cercles), images,
textes et sous-fenÃªtres. Nous allons en expÃ©rimenter quelques uns.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># CrÃ©ation d&#39;un rectangle rempli avec la couleur &quot;light blue&quot; (bleu  lÃ©ger) :</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rr</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">create_rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">)</span>
<span class="c1"># L&#39;affichage du rectangle est immÃ©diat (l&#39;objet Â« canevas Â» est directement</span>
<span class="c1"># modifiÃ© Â« en place Â») !</span>
<span class="c1"># Noter que rr est un simple entier, qui repÃ¨re l&#39;objet du canevas.</span>
<span class="c1"># GrÃ¢ce Ã  ce numÃ©ro, on peut retrouver l&#39;objet graphique et le modifier :</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">itemconfigure</span><span class="p">(</span><span class="n">rr</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="c1"># (Re)Trouver le type d&#39;un objet et la valeur d&#39;un de ses paramÃ¨tres :</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="n">rr</span><span class="p">)</span>
<span class="s1">&#39;rectangle&#39;</span>
<span class="c1"># L&#39;objet graphique rr est dÃ©sormais rempli en rouge (rr pour rectangle rouge !).</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">itemcget</span><span class="p">(</span><span class="n">rr</span><span class="p">,</span> <span class="s2">&quot;fill&quot;</span><span class="p">)</span> 
<span class="c1"># CrÃ©ation d&#39;autres figures, par exemple un ovale (sert aussi pour les cercles) :</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">o</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">create_oval</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rb</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">create_rectangle</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">210</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rv</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">create_rectangle</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">rn</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">create_rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong><img alt="ðŸ’€" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f480.svg" title=":skull:" /> Attention <img alt="ðŸ’€" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f480.svg" title=":skull:" /></strong></p>
<p>Il est <strong>vraiment important</strong> de comprendre la nÃ©cessitÃ© de mÃ©moriser la 
<a href="http://tkinter.fdex.eu/doc/caw.html#canvasidnum" rel="noopener" target="__blank" title="Identifier un objet graphique du Canvas de Tkinter">valeur retournÃ©e</a>
par la mÃ©thode construisant chaque Ã©lÃ©ment graphique d'un <code>Canvas</code>.
En effet, si on ne le fait pas, il sera impossible de modifier ultÃ©rieurement
cet Ã©lÃ©ment graphique (par exemple pour le dÃ©placer) !</p>
<h3 id="gerer-la-superposition-delements-graphiques">GÃ©rer la superposition d'Ã©lÃ©ments graphiques</h3>
<p><strong>Mais pourquoi l'ovale n'apparaÃ®t-il pas ?</strong> Parce que les formes se <em>recouvrent</em>.
On peut donc gÃ©rer la Â«Â profondeur d'affichageÂ Â», afin de provoquer ou d'Ã©viter
un chevauchement, et permettre ainsi le passage au Â«Â plan supÃ©rieurÂ Â» ou au
Â«Â plan infÃ©rieurÂ Â» d'un Ã©lÃ©ment graphique.</p>
<p>Cela se fait Ã  l'aide des mÃ©thodes <code>tag_lower</code> et <code>tag_raise</code>. Par exemple :</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">tag_raise</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">tag_lower</span><span class="p">(</span><span class="n">rn</span><span class="p">)</span>
</code></pre></div>
<details class="info">
<summary>Remarque</summary>
<p>Ces mÃ©thodes peuvent Ã©galement prendre en argument un <em>tag</em> (une
chaÃ®ne de caractÃ¨res identifiant un <em>ou plusieurs</em> Ã©lÃ©ments graphiques).
Vous aurez un peu plus de de dÃ©tails sur ce sujet dans <a href="#pour-aller-plus-loin-les-tags">la section Â«Â Pour
aller plus loin : les <em>tags</em>Â Â»</a>.
Quant Ã  ces mÃ©thodes en particulier, <a href="http://tkinter.fdex.eu/doc/caw.html\#Canvas.tag_lower" rel="noopener" target="__blank" title="GÃ©rer la superposition d'Ã©lÃ©ments graphiques dans un Canvas">suivez ce lien</a>
pour en apprendre davantage. Sachez qu'on peut, entre autres choses,
positionner un Ã©lÃ©ment graphique relativement Ã  un autre...</p>
</details>
<h3 id="deplacements-trouver-et-alterer-les-coordonnees-dun-objet-du-canevas">DÃ©placements : trouver et altÃ©rer les coordonnÃ©es d'un objet du canevas</h3>
<p>Une fois un Ã©lÃ©ment graphique crÃ©Ã© dans le <code>Canvas</code> de Tkinter et son identifiant
obligatoirement mÃ©morisÃ© (d'une faÃ§on ou d'une autre), on peut y rÃ©accÃ©der
afin de le faire Ã©voluer. On peut ainsi modifier n'importe laquelle de ses
caractÃ©ristiques : couleur, poisition, forme, etc.</p>
<h4 id="obtenir-les-coordonnees-dun-element-graphique-du-canvas">Obtenir les coordonnÃ©es d'un Ã©lÃ©ment graphique du <code>Canvas</code></h4>
<p>On utilise pour cela la mÃ©thode <code>coords()</code> du <code>Canvas</code> :</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Trouver les coordonnÃ©es d&#39;un objet d&#39;un canevas :</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">rr</span><span class="p">)</span>
<span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">,</span> <span class="mf">200.0</span><span class="p">]</span>      <span class="c1"># Une LISTE est renvoyÃ©e.</span>
</code></pre></div>
<h4 id="deplacer-un-element-graphique-sur-un-canvas">DÃ©placer un Ã©lÃ©ment graphique sur un <code>Canvas</code></h4>
<p>Il y a deux faÃ§ons d'y parvenir.</p>
<ul>
<li>
<p>La premiÃ¨re, recommandÃ©e, est relative Ã  la position actuelle de l'objet
graphique. Cela signifie que l'on prÃ©cise le dÃ©placement Ã  partir de la
position actuelle de cet objet. D'un point de vue mathÃ©matique, le dÃ©placement
est alors une <em>translation</em>, dÃ©finie par les coordonnÃ©es (abscisses et ordonnÃ©es)
du vecteur associÃ© .</p>
<div class="highlight"><pre><span></span><code><span class="c1"># DÃ©placement d&#39;un objet par dÃ©calage Ã  partie de sa position actuelle :</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">rr</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>        <span class="c1"># DÃ©calage en abscisse en premier, ici 200...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">rr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>        <span class="c1"># ...dÃ©calage en ordonnÃ©e ensuite, ici 100.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">rr</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>      <span class="c1"># On peut bien sÃ»r translater en oblique !</span>
</code></pre></div>
<details class="bug">
<summary>Remarque</summary>
<p>Cette approche a l'avantage d'Ã©viter tout risque de modifier par inadvertance
les proportions de l'objet. L'alternative, prÃ©sentÃ©e juste aprÃ¨s, est
de changer les spÃ©cifications de l'objet, ce qui peut impliquer, par
exemple, de modifier l'ensemble de ses coorodonnÃ©es. Si cela est fait
sur la base d'un calcul, et que ce calcul est faux, alors les <em>proportions</em>
de l'objet seront <em>modifiÃ©es</em>, ce qui n'est pas nÃ©cessairement souhaitÃ© <img alt="ðŸ˜‰" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f609.svg" title=":wink:" /> !</p>
</details>
</li>
<li>
<p>L'autre approche consiste Ã  modifier l'ensemble des coordonnÃ©es dÃ©finissant
l'Ã©lÃ©ment graphique. On emploie pour cela la mÃ©thode <code>coords()</code> :</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Modifier les coordonnÃ©es d&#39;un objet d&#39;un canevas (2 approches possibles).</span>
<span class="c1"># Notez que la gÃ©omÃ©trie de l&#39;objet peut changer si l&#39;on n&#39;y prend pas garde !</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">350</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="p">[]</span>                                   <span class="c1"># La valeur de retour est une liste vide.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>    <span class="c1"># Ici on passe un TUPLE de coordonnÃ©es.</span>
<span class="o">&gt;&gt;&gt;</span><span class="p">[]</span>                                   <span class="c1"># Idem pour la valeur de retour...</span>
<span class="c1"># Modification explicite du paramÃ©trage de l&#39;Ã©lÃ©ment graphique rr :</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">rr</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
</code></pre></div>
<details class="bug">
<summary>Remarques</summary>
<ul>
<li>
<p>Vous aurez notÃ© que la deuxiÃ¨me modification (avec le tuple) a
changÃ© l'aspect de l'objet dÃ©signÃ© par <code>o</code> (d'ovale, initialement,
il est devenu circulaire). C'est l'illustration de ce qui Ã©tait
indiquÃ© juste avant cette section...</p>
</li>
<li>
<p>La mÃ©thode <code>coords()</code> du <code>Canvas</code>, qui peut prendre en paramÃ¨tres
soit une succession de coordonnÃ©es soit des coordonnÃ©es explicitement
groupÃ©es dans un <code>tuple</code> renvoie, lorsqu'elle n'est appelÃ©e qu'avec
le numÃ©ro identifiant un Ã©lÃ©ment graphique, une <strong>liste</strong> des coordonnÃ©es
de cet Ã©lÃ©ment :</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">rr</span><span class="p">)</span>
<span class="p">[</span><span class="mf">20.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">,</span> <span class="mf">150.0</span><span class="p">]</span>
</code></pre></div>
<p>Notez Ã©galement que les coordonnÃ©es ont beau Ãªtre donnÃ©es entiÃ¨res,
Tkinter les transtype en <code>&lt;float&gt;</code>.</p>
<p>Il y a donc certaines incohÃ©rences ici, dans la logique de Tkinter...</p>
</li>
</ul>
</details>
</li>
</ul>
<h3 id="detecter-des-chevauchements">DÃ©tecter des chevauchements</h3>
<p>Cette fonction est trÃ¨s utile, par exemple pour dÃ©tecter les collisions
dans un jeu. Elle est liÃ©e Ã  la notion de Â«Â <a href="https://en.wikipedia.org/wiki/Minimum_bounding_box" rel="noopener" target="__blank" title="Qu'est-ce qu'une bounding box ?"><img alt="ðŸ‡¬ðŸ‡§" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f1ec-1f1e7.svg" title=":gb:" /> <em>bounding box</em></a>Â Â».</p>
<p><code>find_overlapping</code> signifie littÃ©ralement Â«Â trouve ce qui recouvreÂ Â». On
donne en argument Ã  cette mÃ©thode les coordonnÃ©es d'un rectangle qui correspond
Ã  la rÃ©gion Ã©tudiÃ©e. Elle renvoie un tuple.</p>
<ul>
<li>
<p>Si le tuple est vide, alors la zone observÃ©e est vide : aucun Ã©lÃ©ment
graphique n'y est prÃ©sent.</p>
</li>
<li>
<p>Si <strong>un seul</strong> Ã©lÃ©ment est retournÃ© dans le tuple, c'est qu'il n'y a <strong>pas</strong>
de chevauchement (un seul Ã©lÃ©ment graphique figure dans la zone).</p>
</li>
<li>
<p>Si le tuple compte 2 Ã©lÃ©ments ou plus, il y a bel et bien un chevauchement
(mais uniquement pour ce qui concerne les <em>bounding boxes</em>, cf. remarque
plus bas) : <strong>deux Ã©lÃ©ments graphiques</strong> (ou plus) sont situÃ©s dans la mÃªme
zone rectangulaire.</p>
</li>
</ul>
<p>Voyez ce que donnent les instructions suivantes !</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">find_overlapping</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">find_overlapping</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">find_overlapping</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">find_overlapping</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">350</span><span class="p">,</span><span class="mi">350</span><span class="p">)</span>
</code></pre></div>
<details class="warning">
<summary>Remarque</summary>
<p>Attention : la zone concernÃ©e est rectangulaire, ainsi deux cercles
pourront Ãªtre considÃ©rÃ©s comme se chevauchant car le carrÃ© dans
lequel ils sont inscrit se recouvrent. Pourtant, Ã  l'Ã©cran, les
cercles ne se toucheront en aucun cas !</p>
<p><img alt="Tkinter, illustration de la mÃ©thode find_overlapping" src="../images/tkinter-find_overlapping.png" width="700" /></p>
<p>Bienvenue dans le monde merveilleux de la
<a href="https://fr.wikipedia.org/wiki/D%C3%A9tection_de_collision#Jeux_vid%C3%A9o" rel="noopener" target="__blank">dÃ©tection des collisions</a>...</p>
</details>
<h3 id="pour-aller-plus-loin-les-tags">Pour aller plus loin : les <em>tags</em></h3>
<p>Un <em>tag</em> est une Ã©tiquette. Ã‰tiqueter les Ã©lÃ©ments graphiques d'un <code>Canvas</code>
sert Ã  les regrouper sous une mÃªme Ã©tiquette. Par exemple, dans le contexte
d'un jeu, on pourra utiliser plusieurs Ã©lÃ©ments graphiques pour dÃ©finir un
objet du dÃ©cor. Si, durant le dÃ©roulement du jeu, il est nÃ©cessaire de
modifier cet objet, utiliser le <em>tag</em> correspondant simplifiera grandement
les choses : il sera alors facile de modifier l'ensemble des Ã©lÃ©ments associÃ©s
(exemple : modifier la couleur d'un objet du dÃ©cor, car on a changÃ© d'univers
et, mÃªme si les Ã©lÃ©ments du dÃ©cor sont identiques, l'ambiance graphique
est diffÃ©rente).</p>
<p>Un tag est une simple chaÃ®ne de caractÃ¨res) : un Ã©lÃ©ment graphique du <code>Canvas</code>
peut avoir plusieurs <em>tags</em> diffÃ©rents, et un mÃªme <em>tag</em> peut Ãªtre associÃ©
Ã  plusieurs Ã©lÃ©ments graphiques diffÃ©rents.</p>
<p>Pour en savoir plus sur ce sujet, vous pourrez Ã©tudier la mÃ©thode
<a href="http://tkinter.fdex.eu/doc/caw.html#Canvas.tag_bind" rel="noopener" target="__blank" title="Associer un tag Ã  un Ã©lÃ©ment graphique du Canvas"><code>tag_bind()</code></a>.</p>
<p>Notez que trouver un Ã©lÃ©ment graphique Ã  partir d'un <em>tag</em> est trÃ¨s simple :
partout oÃ¹ un identifiant d'Ã©lÃ©ment est admis comme paramÃ¨tre d'une mÃ©thode,
vous pouvez le remplacer par un <em>tag</em> !</p>
<h3 id="divers">Divers</h3>
<p>Voici quelques mÃ©thodes du <code>Canvas</code> qu'il peut Ãªtre utile de connaÃ®tre :</p>
<div class="highlight"><pre><span></span><code>  <span class="c1"># Liste de tous les objets graphiques du canevas :</span>
  <span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">find_all</span><span class="p">()</span>
  <span class="c1"># DÃ©truire un objet graphique :</span>
  <span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
  <span class="c1"># Forcer la rÃ©actualisation du canevas. Peut Ãªtre utile pour des questions de</span>
  <span class="c1"># performances, et donc de fluiditÃ© d&#39;affichage (vous pourrez lire Ã  ce sujet</span>
  <span class="c1"># http://effbot.org/tkinterbook/canvas.htm#performance-issues)</span>
  <span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</code></pre></div>
<h2 id="des-exemples-concrets">Des exemples concrets</h2>
<h3 id="realiser-une-animation-avec-la-methode-after">RÃ©aliser une animation avec la mÃ©thode <code>after</code></h3>
<p>On va ici rÃ©aliser une animation, dans laquelle un Ã©lÃ©ment graphique rebondira
indÃ©finiment sur les bords du canevas. Ã‡a n'est pas trÃ¨s utile, mais c'est
rigolo <img alt="ðŸ™‚" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f642.svg" title=":slightly_smiling_face:" /> ! Et puis cela va nous amener Ã  rencontrer
la <strong>mÃ©thode <code>after</code></strong> des fenÃªtres Tkinter, qui pourra ensuite permettre
de crÃ©er des petits jeux <img alt="ðŸ˜‰" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f609.svg" title=":wink:" />Â !</p>
<h4 id="premiere-approche-non-optimale">PremiÃ¨re approche non-optimale</h4>
<p>Toujours dans la console Python <em>interactive</em> que vous utilisez depuis le
dÃ©but de ce document, saisissez le code ci-dessous.</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randrange</span> <span class="k">as</span> <span class="n">rnd</span> <span class="c1"># PrÃ©fÃ©rer randrange Ã  randint !</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>              <span class="c1"># Voir plus loin l&#39;utilitÃ© !</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Dx</span><span class="p">,</span> <span class="n">Dy</span> <span class="o">=</span> <span class="n">rnd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span> <span class="n">rnd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span>     <span class="c1"># Vecteur dÃ©placement alÃ©atoire.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>                         <span class="c1"># On dÃ©marre une boucle infinie...</span>
      <span class="n">c</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Dx</span><span class="p">,</span> <span class="n">Dy</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">c</span><span class="o">.</span><span class="n">winfo_width</span><span class="p">():</span>
          <span class="n">Dx</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
      <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">c</span><span class="o">.</span><span class="n">winfo_height</span><span class="p">():</span>
          <span class="n">Dy</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
      <span class="n">c</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>    <span class="c1"># NÃ©cessaire (la boucle principale de la GUI n&#39;est pas lancÃ©e)</span>
      <span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>   <span class="c1"># Utile si votre ordinateur est trÃ¨s performant !</span>
</code></pre></div>
<p>Voici ce que vous devriez observer :<br />
<img alt="Disque rebondissant sur les bords d'un
canevas Tkinter" src="../images/rebond.gif" width="200" /></p>
<p>Vous devriez pouvoir interrompre la boucle infinie en pressant simultanÃ©ment
les touches <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-c">C</kbd></span>.</p>
<details class="example">
<summary>Explications dÃ©taillÃ©es du code prÃ©cÃ©dent</summary>
<ul>
<li>
<p>On commence par gÃ©nÃ©rer au hasard les coordonnÃ©es du vecteur selon
lequel l'Ã©lÃ©ment graphique <code>o</code> du <code>Canvas</code> se dÃ©placera.</p>
</li>
<li>
<p>On lance une boucle infinie.</p>
<ul>
<li>
<p>Dans cette boucle, l'Ã©lÃ©ment graphique <code>o</code> est dÃ©placÃ© (de faÃ§on
relative). Puis ses (nouvelles) coordonnÃ©es sont Ã©tudiÃ©es, afin
de faire en sorte que le rebond advienne lorsqu'il vient Ã  toucher
les bords du canevas.</p>
</li>
<li>
<p>Si l'abscisse de la Â«Â limite gaucheÂ Â» de <code>o</code> devient nÃ©gative,
ou que l'abscisse de la Â«Â limite droiteÂ Â» de <code>o</code> devient supÃ©rieure
Ã  la largeur du canevas, le dÃ©placement selon l'axe des abscisses
change de signe (cela revient Ã  changer l'abscisse du vecteur
dÃ©placement en son opposÃ©).</p>
</li>
<li>
<p>De mÃªme, si l'ordonnÃ©e de la Â«Â limite supÃ©rieure visuelleÂ Â» de <code>o</code>
devient nÃ©gative, ou que l'ordonnÃ©e de la Â«Â limite infÃ©rieure visuelleÂ Â»
de <code>o</code> devient supÃ©rieure Ã  la hauteur du canevas, le dÃ©placement
selon l'axe des ordonnÃ©es change de signe (cela revient Ã  changer
l'ordonnÃ©e du vecteur dÃ©placement en son opposÃ©).<br />
<em><strong>Remarque :</strong> la phrase prÃ©cÃ©dente peut paraÃ®tre surprenante
si l'on a dÃ©jÃ  oubliÃ© que l'axe des ordonnÃ©es, en programmation,
est souvent dirigÃ© <strong>vers le bas !</strong></em></p>
</li>
</ul>
</li>
</ul>
</details>
<details class="info">
<summary>Remarques</summary>
<ul>
<li>
<p>Sans l'instruction <code>sleep()</code>, le rÃ©sultat serait exÃ©crable ! Le dÃ©placement
s'effectuerait aussi vite que possible, et l'affichage serait alors
cahotique et saccadÃ©...</p>
</li>
<li>
<p>Lire <a href="http://stackoverflow.com/questions/3950687/how-to-find-out-the-current-widget-size-in-tkinter" rel="noopener" target="__blank"><img alt="ðŸ‡¬ðŸ‡§" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f1ec-1f1e7.svg" title=":gb:" /> cette question sur stackoverflow</a>
pour une discussion concernant <code>c.winfo_width()</code> <em>versus</em> <code>c['width']</code>,
dans l'objectif d'obtenir la taille d'un <em>widget</em>.</p>
</li>
<li>
<p>Lire <a href="http://stackoverflow.com/questions/22835289/how-to-get-tkinter-canvas-to-dynamically-resize-to-window-width" rel="noopener" target="__blank"><img alt="ðŸ‡¬ðŸ‡§" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f1ec-1f1e7.svg" title=":gb:" /> cette autre question sur stackoverflow</a>
pour en apprendre plus sur les questions liÃ©es au redimensionnement du
canevas, pour s'adapter au redimensionnement de la fenÃªtre parente.</p>
</li>
</ul>
</details>
<h4 id="animer-mieux-avec-la-methode-after">Animer mieux avec la mÃ©thode <code>after()</code></h4>
<p><strong>Une faÃ§on bien plus adaptÃ©e de rÃ©pÃ©ter le dÃ©placement de faÃ§on rÃ©guliÃ¨re</strong>
et pas trop frÃ©quente est d'utiliser une fonctionnalitÃ© native de Tkinter :
la mÃ©thode <code>after()</code> de la fenÃªtre principale.</p>
<p>On lui passe en paramÃ¨tre un dÃ©lai, exprimÃ© en millisecondes, ainsi qu'une
fonction, qui sera <strong>automatiquement exÃ©cutÃ©e passÃ© ce dÃ©lai</strong>. Pour que
l'opÃ©ration se rÃ©pÃ¨te, la fonction concernÃ©e doit <strong>absolument</strong> dÃ©clencher
Ã  nouveau un appel Ã  la mÃ©thode <code>after()</code>.</p>
<p>Voici un exemple concret (l'animation durera quelques secondes). Notez Ã©galement
la mÃ©thode <code>after_cancel()</code> qui permet d'interrompre le flux des appels Ã 
la fonction <code>bouge</code>, entretenus par la mÃ©thode <code>after()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">mvt</span> <span class="o">=</span> <span class="mi">0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">bouge</span><span class="p">():</span>
      <span class="k">global</span> <span class="n">i</span><span class="p">,</span> <span class="n">mvt</span><span class="p">,</span> <span class="n">Dx</span><span class="p">,</span> <span class="n">Dy</span>     <span class="c1"># Essayez sans cette ligne, pour voir...</span>
      <span class="n">c</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Dx</span><span class="p">,</span> <span class="n">Dy</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">c</span><span class="o">.</span><span class="n">winfo_width</span><span class="p">():</span>
          <span class="n">Dx</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
      <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">c</span><span class="o">.</span><span class="n">winfo_height</span><span class="p">():</span>
          <span class="n">Dy</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
      <span class="n">c</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>                <span class="c1"># Toujours nÃ©cessaire...</span>
      <span class="n">mvt</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">bouge</span><span class="p">)</span>  <span class="c1"># Un dÃ©lai de 20 ms implique 50 animations / s</span>
      <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">200</span><span class="p">:</span>
          <span class="n">f</span><span class="o">.</span><span class="n">after_cancel</span><span class="p">(</span><span class="n">mvt</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">bouge</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">mvt</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</code></pre></div>
<details class="tip">
<summary>DÃ©tails sur la mÃ©thode <code>after_cancel()</code></summary>
<p>L'arrÃªt de l'animation est provoquÃ© par l'appel de la mÃ©thode
<code>after_cancel()</code>, Ã  laquelle on passe en paramÃ¨tre le numÃ©ro du dernier
Â«Â jobÂ Â»  d'animation (ici <em>via</em> la variable <code>mvt</code>). Il est donc <strong>essentiel</strong>
de conserver cette information, constituÃ©e d'une chaÃ®ne de la forme
<code>"after#1234"</code>. Elle est obtenue lors de l'appel de la mÃ©thode <code>after()</code>.</p>
</details>
<details class="danger">
<summary>Note importante : les variables globales, C'EST LE MAL !</summary>
<p>Vous avez constatÃ© la prÃ©sence du mot-clef <code>global</code>, au tout dÃ©but du
code de la fonction <code>bouge()</code>. Il est suivi du nom des variables <code>i</code>,
<code>mvt</code>, <code>Dx</code> et <code>Dy</code>. En effet, ces variables sont modifiÃ©es par la fonction.
Mais celle-ci Ã©tant automatiquement rÃ©-exÃ©cutÃ©e par la fenÃªtre <code>f</code> aprÃ¨s
20 millisecondes d'attente, il faut trouver un moyen de garder une trace
des modifications des valeurs de ces variables.</p>
<p>Sans indication spÃ©cifique, une variable crÃ©Ã©e ou modifiÃ©e au sein d'une
fonction est <em>locale</em>. Cela signifie qu'elle n'a d'existence que tant
que la fonction est en cours d'exÃ©cution. Sa valeurs sera perdue lorsque
l'exÃ©cution de la fonction prendra fin (Ã  moins qu'elle ne soit <em>renvoyÃ©e</em>
par la fonction, par l'instruction <code>return</code>).</p>
<p>Le fait de dÃ©clarer les variables <strong>globales</strong> permet que les modifications
rÃ©alisÃ©es au sein de la fonction <code>bouge</code> soient rÃ©percutÃ©es <strong>Ã  l'extÃ©rieur</strong>
de son espace de noms (la zone de mÃ©moire rÃ©servÃ©e Ã  la fonction, que
Python lui octroie au moment de son exÃ©cution).</p>
</details>
<p>Le recours aux variables globales est considÃ©rÃ©e comme peu optimal car source
d'erreurs (difficile, parfois, de savoir quelle fonction modifie quelle variable).
<strong>Il faut donc absolument Ã©viter d'avoir recours aux variables globales !</strong>
Une bonne stratÃ©gie de contournement repose sur l'utilisation d'un dictionnaire
Python, qui garde la trace des valeurs importantes. Cette structure sophistiquÃ©e
peut, en tant qu'objet Python, Ãªtre naturellement modifiÃ©e par une fonction.</p>
<h4 id="un-exemple-dans-les-regles-de-lart">Un exemple Â«Â dans les rÃ¨gles de l'artÂ Â»</h4>
<p>Il est temps de vous proposer un script complet, avec <strong>la bonne faÃ§on</strong>
de gÃ©rer les variables <strong>sans les dÃ©clarer <code>global</code> !</strong> Enregistrez le code
ci-dessous dans un fichier nommÃ© <code>animation.py</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># coding: utf8</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randrange</span> <span class="k">as</span> <span class="n">rnd</span>

<span class="c1"># Dictionnaire rassemblant les paramÃ¨tres essentiels du Â« jeu Â». Il peut</span>
<span class="c1"># naturellement Ãªtre modifiÃ© depuis l&#39;intÃ©rieur de la fonction &#39;bouge&#39;</span>
<span class="c1"># dÃ©finie un peu plus bas...</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Dx&quot;</span><span class="p">:</span> <span class="n">rnd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span> <span class="s2">&quot;Dy&quot;</span><span class="p">:</span> <span class="n">rnd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span> <span class="s2">&quot;animation&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>

<span class="k">def</span> <span class="nf">bouge</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fonction gÃ©rant les animations&quot;&quot;&quot;</span>
    <span class="n">Dx</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;Dx&quot;</span><span class="p">]</span>
    <span class="n">Dy</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;Dy&quot;</span><span class="p">]</span>
    <span class="n">c</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Dx</span><span class="p">,</span> <span class="n">Dy</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">c</span><span class="o">.</span><span class="n">winfo_width</span><span class="p">():</span>
        <span class="n">config</span><span class="p">[</span><span class="s2">&quot;Dx&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">Dx</span>
    <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">c</span><span class="o">.</span><span class="n">winfo_height</span><span class="p">():</span>
        <span class="n">config</span><span class="p">[</span><span class="s2">&quot;Dy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">Dy</span>
    <span class="n">animation</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">bouge</span><span class="p">)</span>              <span class="c1"># DÃ©lai de 20 ms, soit 50 FPS...</span>
    <span class="n">c</span><span class="o">.</span><span class="n">itemconfigure</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Animation : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">animation</span><span class="p">))</span>
    <span class="n">no_animation</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">animation</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># Extrait l&#39;entier de &#39;after#123&#39;.</span>
    <span class="n">config</span><span class="p">[</span><span class="s2">&quot;animation&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">animation</span>
    <span class="k">if</span> <span class="n">no_animation</span> <span class="o">&gt;=</span> <span class="mi">400</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">after_cancel</span><span class="p">(</span><span class="n">animation</span><span class="p">)</span>               <span class="c1"># ArrÃªt de l&#39;animation</span>

<span class="c1"># Construction de l&#39;interface graphique (minimaliste).</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Animations avec le canevas de Tkinter&quot;</span><span class="p">)</span>
<span class="c1"># Le canevas</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;light yellow&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="c1"># Les Ã©lÃ©ments graphiques du canevas. NouveautÃ© : un texte !</span>
<span class="n">o</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">create_oval</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">create_text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Animation : stoppÃ©e&quot;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;nw&#39;</span><span class="p">)</span>

<span class="n">bouge</span><span class="p">()</span>         <span class="c1"># On doit appeler la fonction &#39;bouge()&#39; pour initier l&#39;animation !</span>
<span class="n">f</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>    <span class="c1"># DÃ©marrage de la boucle principale de la fenÃªtre.</span>
</code></pre></div>
<details class="info">
<summary>Remarques</summary>
<ul>
<li>
<p>Notez ligne 21 le dÃ©coupage de la chaÃ®ne <code>after#xxx...</code> sur le caractÃ¨re
<code>#</code> Ã  l'aide de la mÃ©thode <code>split()</code> des chaÃ®nes de caractÃ¨res, afin
de rÃ©cupÃ©rer la partie <code>xxx...</code> qui le suit, puis la conversion de la
chaÃ®ne ainsi obtenue en entier avec l'instructin de transtypage <code>int()</code>.</p>
</li>
<li>
<p>Notez, lignes 16, 18 et 22 la modification du dictionnaire <code>config</code>
depuis le corps de la fonction <code>bouge()</code>, car c'est un objet Python.
La syntaxe <code>config[clef] = valeur</code> fait en rÃ©alitÃ© appel Ã  une mÃ©thode de
l'objet <code>config</code>, qui reÃ§oit <code>valeur</code> en argument, et qui modifie sans
difficultÃ© <code>config</code> car c'est en quelque sorte l'objet lui-mÃªme qui se
modifie.</p>
</li>
<li>
<p>Notez l'inutilitÃ© de forcer systÃ©matiquement la mise Ã  jour du canevas
avec l'instruction <code>c.update()</code>. Tkinter s'occupe du rafraÃ®chissement
de l'affichage au travers de la boucle principale <code>f.mainloop()</code>.</p>
</li>
</ul>
</details>
<h4 id="un-point-important-a-propos-de-after">Un point important Ã  propos de <code>after()</code></h4>
<p>Il est fondamental de comprendre que la mÃ©thode <code>after()</code> permet Ã  Tkinter
d'appeler automatiquement (ici toutes les 20 ms, soit 50 fois par seconde),
une fonction qu'on lui donne en argument.</p>
<p><strong>Attention :</strong> on passe Ã  la mÃ©thode <code>after()</code> le <strong>nom</strong> de la fonction !</p>
<p>Il faut bien distinguer <code>fonction</code>, qui est un objet Python de type
<code>&lt;function&gt;</code>, et <code>fonction()</code> (avec des parenthÃ¨ses et Ã©ventuellement
des paramÃ¨tres entre ces parenthÃ¨ses), qui dÃ©clenche l'exÃ©cution de
ladite fonction, et qui dÃ©signe donc la <strong>valeur de retour</strong> ainsi produite.
Cette valeur de retour peut Ãªtre n'importe quel objet Python, Â«Â rienÂ Â» y
compris (c'est-Ã -dire <code>None</code>)...</p>
<h4 id="attacher-un-evenement-a-un-widget-pour-lancer-lanimation">Attacher un Ã©vÃ¨nement Ã  un <em>widget</em> pour lancer l'animation</h4>
<p>On va maintenant voir comment crÃ©er un bouton qui, lorsqu'on cliquera dessus,
dÃ©clenchera le mouvement de l'Ã©lÃ©ment graphique. On dira qu'on attache une
fonction Ã  un Ã©vÃ¨nement.</p>
<p>Vous allez devoir modifier le script <code>animation.py</code> de sorte Ã  ce qu'il
corresponde au code ci-dessous.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># coding: utf8</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randrange</span> <span class="k">as</span> <span class="n">rnd</span>

<span class="c1"># Dictionnaire rassemblant les paramÃ¨tres essentiels du Â« jeu Â».</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Dx&quot;</span><span class="p">:</span> <span class="n">rnd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span> <span class="s2">&quot;Dy&quot;</span><span class="p">:</span> <span class="n">rnd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span> <span class="s2">&quot;animation&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>

<span class="k">def</span> <span class="nf">bouge</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fonction gÃ©rant les animations&quot;&quot;&quot;</span>
    <span class="n">Dx</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;Dx&quot;</span><span class="p">]</span>
    <span class="n">Dy</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;Dy&quot;</span><span class="p">]</span>
    <span class="n">c</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Dx</span><span class="p">,</span> <span class="n">Dy</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">Xmax</span><span class="p">:</span>
        <span class="n">config</span><span class="p">[</span><span class="s2">&quot;Dx&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">Dx</span>
    <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">o</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">Ymax</span><span class="p">:</span>
        <span class="n">config</span><span class="p">[</span><span class="s2">&quot;Dy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">Dy</span>
    <span class="n">animation</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">bouge</span><span class="p">)</span>              <span class="c1"># DÃ©lai de 20 ms, soit 50 FPS...</span>
    <span class="n">c</span><span class="o">.</span><span class="n">itemconfigure</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Animation : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">animation</span><span class="p">))</span>
    <span class="n">no_animation</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">animation</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># Extrait l&#39;entier de &#39;after#123&#39;.</span>
    <span class="n">config</span><span class="p">[</span><span class="s2">&quot;animation&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">animation</span>

<span class="c1"># Construction de l&#39;interface graphique (minimaliste).</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Animations avec le canevas de Tkinter&quot;</span><span class="p">)</span>
<span class="c1"># Le canevas</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;light yellow&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">borderwidth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">RIDGE</span><span class="p">,</span> <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># Les Ã©lÃ©ments graphiques du canevas. NouveautÃ© : un texte !</span>
<span class="n">o</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">create_oval</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">create_text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Animation : stoppÃ©e&quot;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;nw&#39;</span><span class="p">)</span>
<span class="c1"># Un bouton</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Bouge de lÃ  !&#39;</span><span class="p">)</span>
<span class="n">b</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="n">b</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Button-1&gt;&#39;</span><span class="p">,</span> <span class="n">bouge</span><span class="p">)</span>     <span class="c1"># &#39;&lt;Button-1&gt;&#39; est le bouton gauche de la souris</span>

<span class="n">c</span><span class="o">.</span><span class="n">update</span><span class="p">()</span> <span class="c1"># Indispensable, sinon Xmax et Ymax (ci-dessous) vaudront 1 chacun !</span>
<span class="n">Xmax</span><span class="p">,</span> <span class="n">Ymax</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">winfo_width</span><span class="p">(),</span> <span class="n">c</span><span class="o">.</span><span class="n">winfo_height</span><span class="p">()</span>

<span class="n">f</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>    <span class="c1"># DÃ©marrage de la boucle principale de la fenÃªtre.</span>
</code></pre></div>
<details class="info">
<summary>Remarques</summary>
<p>Notez le paramÃ¨tre <code>event</code> qu'attend la fonction <code>bouge</code>, et qui reÃ§oit
la valeur <code>None</code> si aucun Ã©vÃ¨nement n'est passÃ© Ã  la fonction par l'objet
graphique auquel elle est attachÃ©e. Ici, un tel Ã©vÃ¨nement n'est pas gÃ©nÃ©rÃ©
par l'objet <code>Button</code>, on pourrait donc simplifer la dÃ©finition de la fonction
en Ã©liminant le paramÃ¨tre. Mais certains objets Tkinter, auxquels on a attachÃ©
une fonction, gÃ©nÃ¨rent et passent des objets Ã©vÃ¨nements Ã  leur fonction
associÃ©e (voir le paragraphe suivant). Et il peut aussi arriver qu'on souhaite
associer la mÃªme fonction Ã  deux objets Tkinter, l'un gÃ©nÃ©rant un Ã©vÃ¨nement
et l'autre non. Prendre l'habitude de dÃ©finir une fonction qui doit Ãªtre
associÃ©e Ã  un objet Tkinter en lui donnant <strong>systÃ©matiquement</strong> comme paramÃ¨tre
<code>event=None</code> est donc une bonne habitude (il faut ensuite tester dans le
code de la fonction la valeur de <code>event</code>, pour savoir si elle vaut <code>None</code> ou pas).</p>
</details>
<details class="warning">
<summary>ProblÃ¨me !</summary>
<p>Cliquez Ã  nouveau sur le bouton Â«Â Bouge de lÃ  !Â Â» : vous observerez
que le mouvement s'accÃ©lÃ¨re. Cliquez encore : il accÃ©lÃ¨re davantage.
Et ainsi de suite.</p>
<p>Pourquoi ?</p>
<p>Parce que vous dÃ©clenchez un nouvel appel Ã  la fonction <code>bouge</code> : au
lieu d'Ãªtre appelÃ©e une fois toutes les 20 ms, elle sera alors appelÃ©e
<strong>deux fois</strong>, et ces appels seront Ã©galement rÃ©pÃ©tÃ©s toutes les 20Â ms.
Et ainsi de suite : plus vous cliquez, plus vous lancez de Â«Â cyclesÂ Â»
d'appels Ã  la fonction <code>bouge</code>, d'oÃ¹ l'accÃ©lÃ©ration observÃ©e, puisque
la balle bouge, non pas plus vite, mais <em>plus souvent</em>... ce qui au
final revient au mÃªmeÂ !</p>
</details>
<details class="note">
<summary>Exercices</summary>
<ol>
<li>
<p>Modifier le code prÃ©cÃ©dent pour ajouter Ã  l'interface un second bouton
permettant de stopper le mouvement. <strong>Rappel :</strong> il faut recourir Ã 
la mÃ©thode <code>after_cancel()</code>.</p>
</li>
<li>
<p>Modifier le code d'origine (<strong>pas</strong> celui crÃ©Ã© Ã  l'exercice prÃ©cÃ©dent)
de sorte Ã  ce qu'une touche, par exemple la touche <span class="keys"><kbd class="key-enter">Enter</kbd></span> ou la barre
d'espace, dÃ©clenche ou stoppe le mouvement (selon la situation avant
l'appui).<br />
Vous consulterez avec profit la <a href="http://tkinter.fdex.eu/doc/event.html#sequence-d-evenements" rel="noopener" target="__blank">documentation de Tkinter consacrÃ©e aux
Ã©vÃ¨nements</a>.</p>
</li>
<li>
<p>Comment dÃ©clencher ou arrÃªter le mouvement aussi bien Ã  la souris qu'au clavier ?</p>
</li>
<li>
<p>Comment affecter une action aux <em>autres</em> bouton de la souris ?</p>
</li>
</ol>
</details>
<h3 id="dessiner-a-la-souris">Dessiner Ã  la souris</h3>
<p>Maintenez enfoncÃ© le bouton gauche de la souris, et dÃ©placez-lÃ  pour dessiner !</p>
<p><img alt="Exemple d'utilisation du script dessiner.py" src="../images/dessiner.png" /></p>
<div class="highlight"><pre><span></span><code><span class="c1"># coding: utf8</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">largeur_canevas</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">hauteur_canevas</span> <span class="o">=</span> <span class="mi">150</span>

<span class="k">def</span> <span class="nf">dessine</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
   <span class="n">rouge_orange</span> <span class="o">=</span> <span class="s2">&quot;#ff6042&quot;</span>
   <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span>
   <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>
   <span class="n">c</span><span class="o">.</span><span class="n">create_oval</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">rouge_orange</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="n">rouge_orange</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Dessinons en pointillÃ©&quot;</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">largeur_canevas</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">hauteur_canevas</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">YES</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;B1-Motion&gt;&#39;</span><span class="p">,</span> <span class="n">dessine</span><span class="p">)</span> <span class="c1"># Autre possibilitÃ© : f.bind(...)</span>

<span class="n">message</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Cliquer et dÃ©placer la souris pour dessiner&quot;</span><span class="p">)</span>
<span class="n">message</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">)</span>

<span class="n">f</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</code></pre></div>
<details class="example">
<summary>Explications</summary>
<p>On observe deux nouveautÃ©s ici :</p>
<ul>
<li>
<p>on attache la fonction <code>dessine()</code> Ã  l'Ã©vÃ¨nement <code>&lt;B1-Motion&gt;</code>, qui
correspond au fait de cliquer sur le bouton gauche de la souris, de le
laisser enfoncÃ©, et de dÃ©placer la souris ;</p>
</li>
<li>
<p>le fait d'associer une fonction Ã  un bouton de la souris gÃ©nÃ¨re
<strong>automatiquement</strong> un Ã©vÃ¨nement, passÃ© en argument Ã  la fonction
<code>dessine()</code>. Cet Ã©vÃ¨nement comporte en lui quantitÃ© d'informations utiles,
Ã  commencer par les coordonnÃ©es du point en lequel se trouvait l'extrÃ©mitÃ©
du pointeur de la souris au moment du clic : <code>event.x</code> et <code>event.y</code>.</p>
</li>
</ul>
<p>Une fois ces informations obtenues, rien de plus simple que de crÃ©er
un cercle de petite taille et de le faire apparaÃ®tre sur le canevas !
Notez qu'ici, on ne mÃ©morise pas l'Ã©lÃ©ment graphique ainsi crÃ©Ã© : il
sera donc impossible de le faire Ã©voluer (il serait pertinent de le
faire si l'on voulait pouvoir annuler tout ou partie du tracÃ©).</p>
</details>
<h3 id="une-calculatrice-simplette">Une calculatrice simple(tte)</h3>
<p>Il s'agit d'un petit programme tout simple. Les fonctions mathÃ©matiques
usuelles sont disponibles, la syntaxe est celle du module <a href="https://docs.python.org/3/library/math.html" rel="noopener" target="__blank">math</a>.</p>
<p><img alt="Exemple d'utilisation du script calculette.py" src="../images/calculette.png" /></p>
<div class="highlight"><pre><span></span><code><span class="c1"># coding: utf8</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span> <span class="nf">evaluer</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">resultat</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;RÃ©sultat : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">saisie</span><span class="o">.</span><span class="n">get</span><span class="p">())))</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Calculette&quot;</span><span class="p">)</span>
<span class="n">saisie</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">saisie</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Return&gt;&quot;</span><span class="p">,</span> <span class="n">evaluer</span><span class="p">)</span>
<span class="n">resultat</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">saisie</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="n">resultat</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

<span class="n">f</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</code></pre></div>
<details class="example">
<summary>Explications</summary>
<p>Vous dÃ©couvrez ici le <em>widget</em> <code>Entry</code>, qui correspond Ã  une zone de saisie.
On rÃ©cupÃ¨re les informations entrÃ©es au clavier dans ce <em>widget</em> Ã  l'aide
de sa mÃ©thode <code>get()</code>, dont le rÃ©sultat est une chaÃ®ne de caractÃ¨res.</p>
</details>
<h2 id="les-variables-tkinter">Les variables Tkinter</h2>
<p>Le code prÃ©cÃ©dent peut Ãªtre Ã©crit autrement en utilisant une <strong>Â«Â variable TkinterÂ Â»</strong>.
Tkinter en possÃ¨de de 4 types : <code>BooleanVar</code>, <code>DoubleVar</code>, <code>IntVar</code> et <code>StringVar</code>
(<a href="http://tkinter.fdex.eu/doc/ctrvar.html" rel="noopener" target="__blank">plus de dÃ©tails ici</a>).
C'est assez limitÃ©, et globalement insuffisant aux besoins d'une application
un peu consÃ©quente, et on est souvent amenÃ© Ã  exploiter des structures plus
souples et riches, telles que les dictionnaires Python.</p>
<p>L'intÃ©rÃªt d'une telle variable est qu'il s'agit d'un objet, dotÃ© de mÃ©thodes
lui permettant de se modifier lui-mÃªme. Il est de ce fait inutile de devoir
le dÃ©clarer comme Ã©tant de type <code>global</code> dans chaque fonction qui y fait
appel.</p>
<p><strong>L'autre intÃ©rÃªt, absolument majeur, est qu'un widget dont le contenu provient
d'une variable Tkinter se met Ã  jour dynamiquement</strong>, Ã  chaque Ã©volution
du contenu de la variable : inutile de devoir le reconfigurer Ã  chaque
changement de valeur de la variable ! Ainsi, des Â«Â variable TkinterÂ Â» rattachÃ©e
Ã  des <em>widgets</em> tels que <code>Button</code>, <code>Label</code>, <code>Entry</code> etc., mettront <em>automatiquement</em>
et <em>dynamiquement</em> Ã  jour le widget auquel elles sont assignÃ©es Ã  chaque changement
de leur Â« contenu Â».</p>
<ul>
<li>
<p>Supposons que <code>s_tk = StringVar()</code>.<br />
<strong>Ã‰crire une valeur</strong> se fait au moyen de la mÃ©thode <code>set()</code> : <code>s_tk.set("toto")</code>.<br />
<strong>Lire une valeur</strong> se fait au moyen de la mÃ©thode <code>get()</code> : <code>s_tk.get()</code>
renverra la chaÃ®ne <code>'toto'</code>.<br />
Cela fonctionne exactement pareil avec les trois autres types de Â«Â variables TkinterÂ Â».</p>
</li>
<li>
<p>Si <code>s_tk = StringVar()</code>, la valeur par dÃ©faut de <code>s_tk</code> est la chaÃ®ne vide <code>''</code>.</p>
</li>
<li>
<p>Si <code>i_tk = IntVar()</code>, la valeur par dÃ©faut de <code>i_tk</code> est <code>0</code>.</p>
</li>
<li>
<p>Si <code>d_tk = DoubleVar()</code>, la valeur par dÃ©faut de <code>d_tk</code> est <code>0.0</code>.</p>
</li>
<li>
<p>Si <code>b_tk = BooleanVar()</code>, la valeur par dÃ©faut de <code>b_tk</code> est <code>False</code>.</p>
</li>
<li>
<p>On peut dÃ©clarer une variable Tkinter et sa valeur initiale simultanÃ©mentÂ :
<code>s_tk = StringVar(value="toto")</code>, ou <code>i_tk = IntVar(value=-2)</code>, ou
<code>d_tk = DoubleVar(value=3.14)</code>, ou encore <code>b_tk = BooleanVar(value=True)</code>.</p>
</li>
<li>
<p>Un type de variable spÃ©cifique peut-Ãªtre associÃ© Ã  certains widgets :</p>
<ul>
<li><code>Button</code> possÃ¨de une option <code>textvariable</code> qui attend une <code>StringVar</code> ;</li>
<li><code>Checkbutton</code> a une option <code>variable</code> qui attend plutÃ´t une <code>IntVar</code> (mais
Ã§a n'est pas obligatoire) ;</li>
<li><code>Entry</code>, <code>Label</code> et <code>Menubutton</code> ont une option <code>textvariable</code> attendant une <code>StringVar</code> ;</li>
<li>etc. vous trouverez <a href="http://tkinter.fdex.eu/doc/ctrvar.html#get" rel="noopener" target="__blank">plus de dÃ©tails ici</a>.</li>
</ul>
</li>
<li>
<p>Tkinter fait du transtypage silencieux (ce qui est mal) : si l'on fait
<code>s_tk.set(None)</code>, alors <code>s_tk.get()</code> renverra... <code>'None'</code> (une chaÃ®ne de
caractÃ¨res !).</p>
</li>
<li>
<p>Tkinter est mÃªme <em>vraiment</em> Â«Â saleÂ Â», parfois : <code>i_tk.set("toto")</code> <strong>ne pose
aucun problÃ¨me</strong> (alors qu'on a dÃ©clarÃ© que <code>i_tk</code> est une <code>IntVar</code>, donc <em>a
priori</em> apte Ã  n'accueillir que des nombres entiers !). Par contre <code>i_tk.get()</code>
provoque une erreur <code>_tkinter.TclError: expected floating-point number but got "toto"</code> !</p>
</li>
</ul>
<details class="info">
<summary>Remarque : de l'intÃ©rÃªt des dictionnaires</summary>
<p>Les dictionnaires ont de nombreuses vertus ! En plus de ce que vous
savez dÃ©jÃ  d'eux, sachez qu'il est possible (et mÃªme facile) de les
sÃ©rialiser afin, par exemple, de sauvegarder leurs contenus sur le
disque dur ou d'envoyer toute la structure de donnÃ©es Ã  travers le
rÃ©seau... Vous lirez avec profit <a href="http://fiches-isn.readthedocs.org/fr/latest/persistance.html" rel="noopener" target="__blank">ce document</a>
(il est d'ailleurs aussi de moi !).</p>
<p>Voici un exemple, basique et sans rÃ©el intÃ©rÃªt, de <em>sÃ©rialisation</em> dans une
variable Tkinter <code>StringVar</code>. On utilise le module <code>pickle</code> pour <em>sÃ©rialiser</em>
un dictionnaire Python : la <em><a href="https://fr.wikipedia.org/wiki/S%C3%A9rialisation" rel="noopener" target="__blank">sÃ©rialisation</a></em>
d'un objet informatique est sa conversion en un flux d'octets (et donc de
<em>bits</em>) qui pourra ensuite soit Ãªtre enregistrÃ© sur un support de stockage
(disque dur, clef USB, etc.) soit envoyÃ© Ã  un autre ordinateur Ã  travers une
connexion rÃ©seau.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># coding: utf8</span>
<span class="kn">import</span> <span class="nn">pickle</span>      <span class="c1"># Un excellent module pour sÃ©rialiser des donnÃ©es</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="s1">&#39;b&#39;</span><span class="p">}</span> <span class="c1"># CrÃ©ation d&#39;un dictionnaire bidon</span>
<span class="c1"># CrÃ©ation d&#39;une variable StringVar initialisÃ©e avec la conversion en chaÃ®ne</span>
<span class="c1"># de caractÃ¨res de l&#39;objet de type bytes gÃ©nÃ©rÃ© par pickle.dumps</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
<span class="c1"># Ã€ ce stade, un appel Ã  s.get() renverrait &quot;b&#39;</span>
<span class="n">x80</span>
<span class="n">x03</span><span class="p">}</span><span class="n">q</span>
<span class="n">x00</span><span class="p">(</span><span class="n">K</span>
<span class="n">x01K</span>
<span class="c1"># </span>
<span class="n">x02X</span>
<span class="n">x01</span>
<span class="n">x00</span>
<span class="n">x00</span>
<span class="n">x00aq</span>
<span class="n">x01X</span>
<span class="n">x01</span>
<span class="n">x00</span>
<span class="n">x00</span>
<span class="n">x00bq</span>
<span class="n">x02u</span><span class="o">.</span><span class="s1">&#39;&quot;</span>
<span class="c1"># Pour recrÃ©er un dictionnaire Ã  partir de cette chaÃ®ne, il faudra faire :</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span> <span class="c1"># D == d renvoie alors True !</span>
</code></pre></div>
</details>
<p>Voici le programme Â« calculatrice Â» prÃ©cÃ©dent modifiÃ© pour exploiter une variable Tkinter <code>StringVar</code>. </p>
<div class="highlight"><pre><span></span><code><span class="c1"># coding: utf8</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span> <span class="nf">evaluer</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">r</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">saisie</span><span class="o">.</span><span class="n">get</span><span class="p">())))</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span>
<span class="c1"># Il faut absolument crÃ©er une fenÃªtre principale AVANT de crÃ©er une variable</span>
<span class="c1"># Tkinter ! Sinon vous obtiendrez une erreur : Â« RuntimeError: Too early to</span>
<span class="n">create</span> <span class="n">variable</span><span class="p">:</span> <span class="n">no</span> <span class="n">default</span> <span class="n">root</span> <span class="n">window</span> <span class="err">Â»</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
<span class="n">saisie</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">saisie</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Return&gt;&quot;</span><span class="p">,</span> <span class="n">evaluer</span><span class="p">)</span>
<span class="n">saisie</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="n">Label</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RÃ©sultat :&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span> <span class="c1"># Pas besoin de se souvenir de ce widget !</span>
<span class="n">resultat</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="n">r</span><span class="p">)</span>
<span class="n">resultat</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

<span class="n">f</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</code></pre></div>
<h2 id="une-application-presque-complete-la-todo-list">Une application (presque) complÃ¨te : la Â« todo list Â»</h2>
<p>Il s'agit lÃ  d'un programme sensiblement plus long, permettant de crÃ©er et
gÃ©rer une liste de tÃ¢ches.</p>
<p><strong>Les fonctionnalitÃ©s introduites ici sont :</strong></p>
<ul>
<li>barre de menus ;</li>
<li>fenÃªtre <em>pop-up</em> ;</li>
<li>gestionnaire de fichier (pour enregistrer ou charger un fichier) ;</li>
<li>enregistrement dans un fichier (version simple : il serait mieux d'utiliser
le module <code>pickle</code>) ;</li>
<li>association d'Ã©vÃ¨nements Ã  une touche du clavier ;</li>
<li>widget Â«Â boÃ®te de listesÂ Â» ;</li>
<li>glisser-dÃ©poser ;</li>
<li>intÃ©gration d'une image (<a href="../images/notes.png" rel="noopener" target="__blank">tÃ©lÃ©chargez-lÃ  ici</a>).</li>
</ul>
<p>Ã€ vous de dÃ©cortiquer le fonctionnement de ce script ! Des liens Ã©maillent
les commentaires pour vous y aider.</p>
<p><img alt="Exemple d'utilisation du script liste_taches.py" src="../images/liste_taches.png" /></p>
<div class="highlight"><pre><span></span><code><span class="c1"># coding: utf8</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tkinter.messagebox</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">filedialog</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Liste de tÃ¢ches&quot;</span><span class="p">)</span>
<span class="n">label1</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Nouvelle tÃ¢che :&quot;</span><span class="p">)</span>
<span class="c1"># Ajout d&#39;une image pour Ã©gayer l&#39;ensemble. Le fichier image doit Ãªtre</span>
<span class="c1"># prÃ©sent dans le rÃ©pertoire courant de l&#39;application (dans cet exemple).</span>
<span class="c1"># Pour gÃ©rer du JPEG cf. https://www.nemoquiz.com/python/images-in-tkinter/</span>
<span class="c1"># Avantage du PNG : pas de perte (format non destructeur) et gestion</span>
<span class="c1"># de la transparence.</span>
<span class="c1"># InconvÃ©nient du PNG : fichiers plus volumineux que du JPEG.</span>
<span class="n">icone</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;notes.png&quot;</span><span class="p">)</span>
<span class="n">label2</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">icone</span><span class="p">)</span>
<span class="c1"># Une boÃ®te de saisie, cf. http://tkinter.fdex.eu/doc/entw.html#Entry</span>
<span class="c1"># (on validera une saisie en appuyant sur EntrÃ©e du clavier, cf. plus bas).</span>
<span class="c1"># Attention : cette touche N&#39;est PAS celle du pavÃ© numÃ©rique !</span>
<span class="n">saisie_tache</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="c1"># Une liste simple, cf. http://tkinter.fdex.eu/doc/lbw.html#Listbox.</span>
<span class="n">liste_taches</span> <span class="o">=</span> <span class="n">Listbox</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Effacer la liste de tÃ¢ches&quot;</span><span class="p">)</span>
<span class="n">label1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">saisie_tache</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">label2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">liste_taches</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">b</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">ajouter_tache</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span> <span class="c1"># dÃ©finition du gestionnaire</span>
    <span class="n">tache</span> <span class="o">=</span> <span class="n">saisie_tache</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="n">liste_taches</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="n">tache</span><span class="p">)</span>
    <span class="n">saisie_tache</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>

<span class="n">saisie_tache</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Return&gt;&quot;</span><span class="p">,</span> <span class="n">ajouter_tache</span><span class="p">)</span> <span class="c1"># liaison</span>

<span class="c1"># Vider la liste des taches</span>
<span class="c1"># Fonction lambda : fonction dÃ©pourvue de nom, comprenant une seule et unique</span>
<span class="c1"># instruction, retournant une Â« valeur Â».</span>
<span class="n">b</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span> <span class="p">:</span> <span class="n">liste_taches</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
<span class="c1"># Supprimer une tÃ¢che, en appuyant sur la doute &quot;Suppr.&quot; (Ã  droite de la</span>
<span class="c1"># touche EntrÃ©e).</span>
<span class="n">liste_taches</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Delete&gt;&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">:</span> <span class="n">liste_taches</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">liste_taches</span><span class="o">.</span><span class="n">curselection</span><span class="p">()))</span>

<span class="c1"># Cette variable Tkinter sert Ã  connaÃ®tre l&#39;index de la tÃ¢che sÃ©lectionnÃ©e.</span>
<span class="c1"># On pourrait aussi utiliser une variable normale et la dÃ©clarer Â« globale Â»</span>
<span class="c1"># dans chaque fonction oÃ¹ on a besoin de la modifier...</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">IntVar</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">clic_sur_item</span><span class="p">(</span><span class="n">event</span><span class="p">):</span> <span class="c1"># Ce qu&#39;on fait lorsqu&#39;on clique sur un item</span>
    <span class="c1"># On stocke dans la variable entiÃ¨re &quot;index&quot; le numÃ©ro de la tÃ¢che</span>
    <span class="c1"># la plus proche de l&#39;emplacement oÃ¹ l&#39;on a cliquÃ© (on se base sur</span>
    <span class="c1"># l&#39;ordonnÃ©e du point cliquÃ© pour le dÃ©terminer).</span>
    <span class="n">index</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">liste_taches</span><span class="o">.</span><span class="n">nearest</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">relacher_sur_item</span><span class="p">(</span><span class="n">event</span><span class="p">):</span> <span class="c1"># Ce qu&#39;on fait lorsqu&#39;on relache le clic sur un</span>
    <span class="c1"># autre item. On rÃ©cupÃ¨re l&#39;item sur lequel on a initiÃ© le clic, puis</span>
    <span class="c1"># l&#39;index et l&#39;item sur lequel on a relachÃ© le clic et on Ã©change si</span>
    <span class="c1"># nÃ©cessaire les items.</span>
    <span class="n">item1</span> <span class="o">=</span> <span class="n">liste_taches</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
    <span class="c1"># index2 est une variable Â« standard Â» !</span>
    <span class="n">index2</span> <span class="o">=</span> <span class="n">liste_taches</span><span class="o">.</span><span class="n">nearest</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">index2</span> <span class="o">!=</span> <span class="n">index</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
        <span class="n">item2</span> <span class="o">=</span> <span class="n">liste_taches</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index2</span><span class="p">)</span>
        <span class="n">liste_taches</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="c1"># On supprime le premier item ...</span>
        <span class="n">liste_taches</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">item2</span><span class="p">)</span> <span class="c1"># ...qu&#39;on remplace par le second</span>
        <span class="n">liste_taches</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">index2</span><span class="p">)</span> <span class="c1"># Et vice versa !</span>
        <span class="n">liste_taches</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index2</span><span class="p">,</span> <span class="n">item1</span><span class="p">)</span>

<span class="c1"># Cf. https://docs.python.org/3/library/tkinter.html#bindings-and-events pour</span>
<span class="c1"># comprendre le add=&quot;+&quot;. Cet article donne une illustration de l&#39;intÃ©rÃªt</span>
<span class="c1"># du add=&#39;+&#39; : https://www.pythontutorial.net/tkinter/tkinter-event-binding/</span>
<span class="n">liste_taches</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button-1&gt;&quot;</span><span class="p">,</span> <span class="n">clic_sur_item</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
<span class="n">liste_taches</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;ButtonRelease-1&gt;&quot;</span><span class="p">,</span> <span class="n">relacher_sur_item</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">charger</span><span class="p">():</span>
    <span class="c1"># Exercice : Ã  vous de coder le contenu de cette fonction !</span>
    <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Oups !&quot;</span><span class="p">,</span> <span class="s2">&quot;Vous devrez coder cette fonction !&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">enregistrer</span><span class="p">():</span>
    <span class="c1"># Cf. http://tkinter.unpythonic.net/wiki/tkFileDialog</span>
    <span class="c1"># Il peut Ãªtre utile de connaÃ®tre le rÃ©pertoire courant (option initialdir).</span>
    <span class="c1"># Pour cela, mettre import os en tÃªte de fichier, puis utiliser os.getcwd().</span>
    <span class="n">fichier</span> <span class="o">=</span>  <span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">initialdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Choisir un fichier&quot;</span><span class="p">,</span>
        <span class="n">filetypes</span> <span class="o">=</span> <span class="p">((</span><span class="s2">&quot;Fichier de tÃ¢ches (texte)&quot;</span><span class="p">,</span><span class="s2">&quot;*.todo&quot;</span><span class="p">),))</span>
    <span class="k">if</span> <span class="n">fichier</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fichier</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ligne</span> <span class="ow">in</span> <span class="n">liste_taches</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">END</span><span class="p">):</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ligne</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># +&quot;\n&quot; pour ajouter un saut de ligne Ã  chaque entrÃ©e</span>

<span class="k">def</span> <span class="nf">a_propos</span><span class="p">():</span>
    <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Ã€ propos de ce logiciel&quot;</span><span class="p">,</span>
<span class="sd">&quot;&quot;&quot;Ce logiciel est disponible sous la licence GNU/GPL</span>
<span class="sd">(cf. https://www.gnu.org/licenses/gpl-3.0.fr.html).</span>

<span class="sd">Saisir une tÃ¢che dans la zone</span>
<span class="sd">de saisie et valider la saisie</span>
<span class="sd">en pressant la touche EntrÃ©e</span>
<span class="sd">(pas celle du pavÃ© numÃ©rique).</span>

<span class="sd">Les tÃ¢ches peuvent Ãªtre </span>
<span class="sd">rÃ©organisÃ©es par simple</span>
<span class="sd">glisser-dÃ©poser.</span>

<span class="sd">Pour supprimer une tÃ¢che,</span>
<span class="sd">la sÃ©lectionner puis presser</span>
<span class="sd">la touche Suppr.</span>
<span class="sd">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="c1"># CrÃ©er une barre de menu principale</span>
<span class="n">barre_de_menus</span> <span class="o">=</span> <span class="n">Menu</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="c1"># CrÃ©er une barre de menu secondaire</span>
<span class="n">menu_actions</span> <span class="o">=</span> <span class="n">Menu</span><span class="p">(</span><span class="n">barre_de_menus</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># tearoff=0 permet d&#39;avoir un menu Â« non dÃ©tachable Â»</span>
<span class="n">menu_actions</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Charger&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">charger</span><span class="p">)</span>
<span class="n">menu_actions</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Enregistrer&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">enregistrer</span><span class="p">)</span>
<span class="n">menu_actions</span><span class="o">.</span><span class="n">add_separator</span><span class="p">()</span>
<span class="n">menu_actions</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Quitter&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
<span class="c1"># Ajouter la barre de menu secondaire Ã  la barre de menu principale</span>
<span class="n">barre_de_menus</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Actions&quot;</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="n">menu_actions</span><span class="p">)</span>
<span class="c1"># Ajouter une commande Ã  la barre de menu principale</span>
<span class="n">barre_de_menus</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Ã€ propos&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">a_propos</span><span class="p">)</span>

<span class="c1"># Ajouter la barre de menu principale Ã  la fenÃªtre</span>
<span class="n">f</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="n">barre_de_menus</span><span class="p">)</span>

<span class="n">f</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</code></pre></div>
<h2 id="ressources-complementaires">Ressources complÃ©mentaires</h2>
<p><strong>Les essentiels</strong></p>
<ul>
<li>
<p>Excellente introduction Ã  l'utilisation de Tkinter, riche d'exemples (d'autres <em>widget</em> y sont dÃ©crits, par exemple <code>Frame</code>, <code>Spinbox</code>, <code>Scale</code>, <code>FileDialog</code>, les menus... et il y a aussi un exemple de glisser-dÃ©poser (<em>drag and drop</em> en anglais) dans un contexte graphique :
<a href="http://f.sincere.free.fr/isn/python/cours_python_tkinter.php" rel="noopener" target="__blank">http://f.sincere.free.fr/isn/python/cours_python_tkinter.php</a>.</p>
</li>
<li>
<p>Documentation assez complÃ¨te sur Tkinter (en franÃ§ais) : <a href="http://tkinter.fdex.eu/" rel="noopener" target="__blank" title="Documentation de Tkinter traduite en franÃ§ais">http://tkinter.fdex.eu/</a>.</p>
</li>
<li>
<p>Autre introduction Ã  Tkinter, assez exhaustive (y sont abordÃ©s entre autres choses le placement prÃ©cis d'une nouvelle fenÃªtre, les <em>widget</em> <code>Checkbutton</code>, <code>Radiobutton</code>, <code>Text</code>, des dÃ©tails sur les formes dessinables dans un <code>Canvas</code> (jonctions douces ou dures des lignes, gestion des images, etc.) ainsi que des <em>widget</em> plus complexes tels que <code>OptionMenu</code>, <code>PanedWindow</code>, <code>ListBox</code>, <code>ScrollBar</code>, les diffÃ©rents styles de curseurs de souris, les boÃ®tes de saisie (textes, fichiers, couleurs, etc.) : <a href="http://www.jchr.be/python/tkinter.htm" rel="noopener" target="__blank">http://www.jchr.be/python/tkinter.htm</a>.</p>
</li>
<li>
<p>Didacticiel (y compris Python 2.x vs Python 3.x, synthÃ©tise les options par catÃ©gorie pour plus de lisibilitÃ© et propose des illustrations bienvenues sur diffÃ©rentes options de relief des <em>widget</em>) :
<a href="http://apprendre-python.com/page-tkinter-interface-graphique-python-tutoriel" rel="noopener" target="__blank">http://apprendre-python.com/page-tkinter-interface-graphique-python-tutoriel</a>.</p>
</li>
</ul>
<p><strong>Autres ressources (un peu en vrac)</strong></p>
<ul>
<li>
<p>L'incontournable <a href="http://inforef.be/swi/python.htm" rel="noopener" target="__blank">livre de GÃ©rard SWINNEN</a> (pages 191 Ã  278, pour ce qui concerne Tkinter).</p>
</li>
<li>
<p>Un autre <a href="https://tarball69.developpez.com/tutoriels/python/isn-passe-ton-faq/#LIII-C-8" rel="noopener" target="__blank" title="Un didacticiel sur Tkinter du site developpez.com">tutoriel sur Tkinter</a>.</p>
</li>
<li>
<p>Pas en rapport avec Tkinter, un peu ancien (conÃ§u en 2014 dans le contexte de l'ISN), mais certainement toujours utile (ce sont des fiches mÃ©thodes) :
<a href="http://fiches-isn.readthedocs.org/fr/latest/index.html" rel="noopener" target="__blank">http://fiches-isn.readthedocs.org/fr/latest/index.html</a></p>
</li>
<li>
<p><a href="http://zetcode.com/gui/tkinter/drawing/" rel="noopener" target="__blank"><img alt="ðŸ‡¬ðŸ‡§" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f1ec-1f1e7.svg" title=":gb:" /> <em>Drawing in Tkinter</em></a>.</p>
</li>
<li><a href="http://python-textbok.readthedocs.org/en/latest/Introduction_to_GUI_Programming.html" rel="noopener" target="__blank"><img alt="ðŸ‡¬ðŸ‡§" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f1ec-1f1e7.svg" title=":gb:" /> <em>Introduction to GUI programming with Tkinter</em></a> (orientÃ© POO â€• si vous ne savez pas ce que c'est, oubliez : vous l'apprendrez ultÃ©rieurement <img alt="ðŸ˜‰" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f609.svg" title=":wink:" /> !).</li>
</ul><script type="text/javascript">
CONFIG.needMermaid = false;
CONFIG.overlordClasses = [];
globalThis.PAGE_IDES_CONFIG = '.\x1e{}\x1e0a0b.'
</script>












                


              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  <div class="md-copyright_pyodide">
    
      <div class="md-copyright__highlight">
        <p xmlns:cc="http://creativecommons.org/ns#"
xmlns:dct="http://purl.org/dc/terms/">Partage ou adaptation possible selon les conditions de la
licence <a
href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1"
target="_blank" rel="license noopener noreferrer"
style="display:inline-block;"> CC BY-NC-SA 4.0 <img
style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img
style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img
style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img
style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p>

      </div>
    
    
  </div>
  
    <div class="md-copyright_pyodide">
      <div>
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      <div id="pyodide-footer">
        <a href="https://gitlab.com/frederic-zinelli/pyodide-mkdocs-theme" target="_blank" rel="noopener">
          Pyodide MkDocs Theme
        </a> v.4.4.2
      </div>
    </div>
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    


      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
<script src="../../../js-scripts/overlord.js" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="module"></script>

<script src="../../../js-scripts/subscriptions.js" crossorigin="anonymous" referrerpolicy="no-referrer" charset="utf-8" type="module"></script>



  </body>
</html>